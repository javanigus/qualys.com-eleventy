{"version":3,"file":"marketo.js","names":["window","qualys","marketo","sanitize","string","map","\"&\"","\"<\"","\">\"","'\"'","\"'\"","\"/\"","replace","match","qualysMarketo","$","XRegExp","MktoForms2","_","mapZoomInfoFields","form","console","log","zoomInfoMatchResult","getFormElem","find","each","elementName","attr","val","trim","trigger","stateMapping","State","$companySizeRange","companySizeRange","loadZoomInfo","onZoomInfoMatchEvent","matchResult","urlParams","leadsource","leadsourceArray","parseQueryString","location","search","includes","length","development","host","_zi","formId","callbacks","onMatch","zi","document","createElement","type","async","src","s","getElementsByTagName","parentNode","insertBefore","preselectLocation","marketoForm","whenReady","on","referrer","indexOf","hash","prop","text","removeClass","show","addClass","addQscLocationField","pathname","addQuantcastOrderId","uuid","utils","generateUUID","append","addGtmLoadedValue","gtmLoaded","dataLayer","addHiddenFields","gTMLoaded","addBlackListedValue","isBlackListed","countryField","countryFieldVal","blackListed","blacklistFieldName","addDntCookieValue","cookieValue","cookies","parseCookieString","cookie","forEach","name","value","gDPRCookieConsent","autoFillupForm","x","x_decode","x_values","x_fname","fnameField","x_lname","lnameField","x_email","emailField","x_cname","cnameField","x_title","titleField","x_phone","phoneField","x_country","x_state","stateField","x_size","sizeField","x_qaccount","qaccountField","accountYes","accountNo","atob","email","fname","lname","cname","title","phone","country","state","size","account","hasClass","warnBeforeLeaving","submitted","onSubmit","addEventListener","e","formModifield","values","getValues","fieldName","event","returnValue","filterFields","newVal","currentTarget","toLowerCase","split","word","toUpperCase","slice","join","formIsSubmitable","validCountries","validUsStates","validCanadianStates","validCompanySize","errorMessages","errors","formValueMapping","hostnames","blacklistedEmailDomains","prefix","setLocationCalled","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","\"District of Columbia\"","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","\"New Hampshire\"","\"New Jersey\"","\"New Mexico\"","\"New York\"","\"North Carolina\"","\"North Dakota\"","Ohio","Oklahoma","Oregon","Pennsylvania","\"Rhode Island\"","\"South Carolina\"","\"South Dakota\"","Tennessee","Texas","Utah","Vermont","Virginia","Washington","\"West Virginia\"","Wisconsin","Wyoming","hostname","ajax","url","dataType","success","data","error","jqXHR","textStatus","errorThrown","Error","concat","responseText","en","invalidEmail","invalidDisposableEmail","emailTooLong","emailInvalidDomain","workEmailRequired","phoneTooShort","phoneTooLong","phoneExtTooShort","phoneExtToolong","minMaxLength","minMaxValue","invalidValue","invalidUsername","updateAccount","usOnly","invalidFullName","useCommunityEdition","fr","PhoneTooShort","PhoneTooLong","de","es","ru","\"Express Lite\"","Marketing_Asset_Id_Current__c","last_mkt_asset","Company_Size_Range__c_account","Express","Enterprise","Consultant","\"Federal Government\"","\"1-250\"","\"251-5000\"","\"5000+\"","\"Security Consultant\"","t","errorKey","object","translatedMessage","lang","$body","key","hasOwnProperty","validateEmail","emailDomainPart","emailLocalPart","Email","push","\"[name='Email']\"","getUTF8Length","dataZiNeverBounceStatus","ga","hitType","eventCategory","eventAction","eventLabel","nonInteraction","inArray","getId","submitable","validatePhone","extension","numPhoneDigits","numExtDigits","pattern","Phone","test","\"[name='Phone']\"","validateJobTitle","Title","\"[name='Title']\"","validateUsername","platformUsernameInvalid","pciUsernameInvalid","Qualys_Username__c","\"[name='Qualys_Username__c']\"","getPlatform","formValues","platforms","identifier","\"-\"","\"!\"","Qualys_Username_Platform__c","validateLength","field","minLength","maxLength","fieldId","errObj","validateUnicodeRegexField","regex","unicodeRegex","validateNumericValue","minValue","maxValue","mktoFormId","isNumeric","\"[name='Number_of_Remote_Endpoints__c']\"","\"[name='Number_of_Assets__c']\"","validateCountry","get","tagName","Country","\"[name='Country']\"","validateState","checkValidState","validStates","\"[name='State']\"","validateTrialPackage","formTrialPackageType","\"[name='formTrialPackageType']\"","remove","validateCompanySize","company_size_range","\"[name='company_size_range']\"","validateNameOfGuests","parseInt","numberofGuests","nameofGuests","\"[name='nameofGuests']\"","postFilterFields","index","element","decodeURIComponent","basicValidation","fieldElem","emailErrorObject","errObject","splice","errMsg","showErrorMessage","customTrialPackageError","detach","getValidCountries","$options","option","uniq","getValidUsStates","getValidCanadianStates","getValidCompanySize","setup","gotUsStates","gotCanadianStates","countryCol","parents","insertAfter","len","code","i","charCodeAt","updateFormValueMapping","mappingKey","handleTrialForm","hasQualysAccount","setLocation","submitForm","submit","updateLocation","city","postalCode","companyFromIp","onSuccess","traits","ip_address","localStorage","setItem","JSON","stringify","subdivisions","iso_code","names","postal","organization","onError","ip","sessionStorage","getItem","parse","geoip2","alterFormValues","isProductionFormId","assetId","attributes","attribute","parent","assetIdFromCompanySize","setValues","showCompanyEmailWarning","checkEmailDomain","emailAddress","after","warningFieldMsg","checkEmailField","deCheckEmailDomain","debounce","cleanMarketoHTMLAndCSS","item","label","id","prepend","siblings","embedForm","$form","baseUrl","munchkinId","isNaN","toString","loadForm","setTimeout","onValidate","builtInMarketoValidation","customValidation","formMappings","path","campaignId","locationPath","drift","api","collectFormData","followupUrl","formsWithoutCountryAndState","isFormWithoutCountryAndState","button","innerText","driftIntegratedPaths","Object","obj","isDriftIntegrated","some","self","top","confirmUrl","whenRendered","addValidInvalidClassToFormRows","css","loadJobTitles","getLanguage","which","timestamp","Date","toISOString","appendTo","wrapAll","innerWidth","haveAccount","$element","$submitButton","jobTitle","prefillMarketoForm","lead","result","keys","reduce","acc","v","charAt","vals","message","jQuery","ready"],"sources":["../../../site/pages/asset/script/marketo.js"],"sourcesContent":["/* global jQuery:false _:false XRegExp:false MktoForms2:false qualys drift */\nwindow.qualys = window.qualys || {};\nwindow.qualys.marketo = window.qualys.marketo || {};\n\nfunction sanitize(string) {\n\tconst map = {\n\t\t'&': '&amp;',\n\t\t'<': '&lt;',\n\t\t'>': '&gt;',\n\t\t'\"': '&quot;',\n\t\t\"'\": '&#x27;',\n\t\t\"/\": '&#x2F;',\n\t};\n\tconst reg = /[&<>\"'/]/ig;\n\treturn string.replace(reg, (match)=>(map[match]));\n}\n\n(function(qualysMarketo, $, XRegExp, MktoForms2, _) {\n\t\"use strict\";\n\n\t/*\n\t * auto-fill empty fields like fields on 2nd panel of 2-panel form\n\t * map some ZoomInfo fields to Qualys Marketo fields\n\t */\n\tqualysMarketo.mapZoomInfoFields = function (form) {\n\t\tconsole.log(zoomInfoMatchResult);\n\n\t\tform.getFormElem().find(\":input:not([type=hidden])\").each(function () {\n\t\t\tvar elementName = $(this).attr(\"name\");\n\t\t\tif (!$(this).val() || ($(this).val().trim() === \"\" && elementName !== \"State\" && elementName !== \"Email\")) {\n\t\t\t\tform.getFormElem().find(\"#\" + elementName).val(zoomInfoMatchResult[elementName]).trigger(\"change\");\n\t\t\t}\n\t\t});\n\n\t\tform.getFormElem().find(\"#State\").val(stateMapping[zoomInfoMatchResult.State]).trigger(\"change\");\n\n\t\tvar $companySizeRange = form.getFormElem().find(\"#Company_Size_Range__c_account\");\n\t\tif ($companySizeRange.val() === \"\") {\n\t\t\tvar companySizeRange = \"\";\n\t\t\tif (zoomInfoMatchResult[\"Num Employees\"] <= 250) {\n\t\t\t\tcompanySizeRange = \"1-250\";\n\t\t\t} else if (zoomInfoMatchResult[\"Num Employees\"] <= 5000) {\n\t\t\t\tcompanySizeRange = \"251-5000\";\n\t\t\t} else if (zoomInfoMatchResult[\"Num Employees\"] > 5000) {\n\t\t\t\tcompanySizeRange = \"5000+\";\n\t\t\t}\n\t\t\t$companySizeRange.val(companySizeRange).trigger(\"change\");\n\t\t}\n\n\t};\n\n\t/*\n\t * add ZoomInfo FormComplete script\n\t */\n\tqualysMarketo.loadZoomInfo = function (form) {\n\n\t\tvar urlParams, leadsource, leadsourceArray;\n\n\t\t// get leadsource value from the url\n\t\turlParams = qualys.parseQueryString(window.location.search);\n\t\tleadsource = urlParams.leadsource;\n\n\t\t// partnetr leadsource array, add values in the array to support more partners\n\t\tleadsourceArray = [\"344572624\"];\n\n\t\t// do not execute zoominfo functionality if the url contains specific partner leadsource\n\t\tif( leadsource && typeof leadsource === \"string\" && leadsourceArray.includes(leadsource) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction onZoomInfoMatchEvent(matchResult) {\n\t\t\tzoomInfoMatchResult = matchResult;\n\t\t\tqualysMarketo.mapZoomInfoFields(form);\n\t\t}\n\n\t\t/*\n\t\t\tWhen development mode is disabled,\n\t\t\t-No more than 5 requests allowed in 10 minutes from the email address\n\t\t\t-No more than 30 requests allowed in an hour from the same IP address\n\t\t\totherwise, you'll get CORS error\n\t\t\tWhen developing, enable dev mode below and test using full-match@zoominfo.com\n\t\t\tWhen testing locally, use local.dev.qualys.com:3000 as that's configured in ZoomInfo\n\t\t*/\n\n\n\n\t\tif ($(\"[src$='formcomplete.js']\").length === 0) {\n\t\t\tvar development = false;\n\n\t\t\tif (window.location.host === \"localhost\" || window.location.host === \"local.dev.qualys.com\") {\n\t\t\t\tdevelopment = true;\n\t\t\t}\n\t\t\twindow._zi = {\n\t\t\t\tdevelopment: development,\n\t\t\t\tformId: '9xIPVjQNxHniLRwBwvNW',\n\t\t\t\tcallbacks: { onMatch: onZoomInfoMatchEvent }\n\t\t\t};\n\n\t\t\tvar zi = document.createElement('script');\n\t\t\tzi.type = 'text/javascript';\n\t\t\tzi.async = true;\n\t\t\tzi.src = 'https://ws-assets.zoominfo.com/formcomplete.js';\n\t\t\tvar s = document.getElementsByTagName('script')[0];\n\t\t\ts.parentNode.insertBefore(zi, s);\n\t\t}\n\t};\n\n\t/*\n\t * if location is in URL or hash tag (e.g. /#munich),\n\t * preselect location field.\n\t */\n\tqualysMarketo.preselectLocation = function (marketoForm) {\n\t\tmarketoForm.whenReady(function () {\n\t\t\t$(window).trigger(\"hashchange\");\n\t\t\t$(window).on(\"hashchange\", function() {\n\t\t\t\tif (document.referrer.indexOf(\"berlin\") > 0 || window.location.hash === \"#berlin\") {\n\t\t\t\t\t$(\"option[value=berlin]\").prop(\"selected\", true);\n\t\t\t\t\t$(\"#qsc_location_title\").text(\"Berlin\");\n\t\t\t\t} else if (document.referrer.indexOf(\"munich\") > 0 || window.location.hash === \"#munich\") {\n\t\t\t\t\t$(\"option[value=munich]\").prop(\"selected\", true);\n\t\t\t\t\t$(\"#qsc_location_title\").text(\"Munich\");\n\t\t\t\t} else if (document.referrer.indexOf(\"paris\") > 0 || window.location.hash === \"#paris\") {\n\t\t\t\t\t$(\"option[value=paris]\").prop(\"selected\", true);\n\t\t\t\t\t$(\"#qsc_form_title, .q-square__content .heading--3\").text(\"Inscription\");\n\t\t\t\t\t$(\".mktoForm .mktoButton\").text(\"Inscription\");\n\t\t\t\t\t$(\"#qsc_register_text_fr\").removeClass(\"qsc-register__text--hidden\").show();\n\t\t\t\t\t$(\"#qsc_register_text_en\").addClass(\"qsc-register__text--hidden\");\n\t\t\t\t} \n\t\t\t\t// else if (document.referrer.indexOf(\"london\") > 0 || window.location.hash === \"#london\") {\n\t\t\t\t// \t$(\"option[value=london]\").prop(\"selected\", true);\n\t\t\t\t// \t$(\"#qsc_location_title\").text(\"London\");\n\t\t\t\t// }\n\t\t\t\t else if (document.referrer.indexOf(\"san-francisco\") > 0 || window.location.hash === \"#san-francisco\") {\n\t\t\t\t\t$(\"option[value='san-francisco']\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"mumbai\") > 0 || window.location.hash === \"#mumbai\") {\n\t\t\t\t\t$(\"option[value=mumbai]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"dubai\") > 0 || window.location.hash === \"#dubai\") {\n\t\t\t\t\t$(\"option[value=dubai]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"las-vegas\") > 0 || window.location.hash === \"#las-vegas\") {\n\t\t\t\t\t$(\"option[value=las-vegas]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"new-york\") > 0 || window.location.hash === \"#new-york\") {\n\t\t\t\t\t$(\"option[value=new-york]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"atlanta\") > 0 || window.location.hash === \"#atlanta\") {\n\t\t\t\t\t$(\"option[value=atlanta]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"chicago\") > 0 || window.location.hash === \"#chicago\") {\n\t\t\t\t\t$(\"option[value=chicago]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"singapore\") > 0 || window.location.hash === \"#singapore\") {\n\t\t\t\t\t$(\"option[value=singapore]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"sydney\") > 0 || window.location.hash === \"#sydney\") {\n\t\t\t\t\t$(\"option[value=sydney]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"orlando\") > 0 || window.location.hash === \"#orlando\") {\n\t\t\t\t\t$(\"option[value=orlando]\").prop(\"selected\", true);\n\t\t\t\t}\n\t\t\t\telse if (document.referrer.indexOf(\"emea\") > 0 || window.location.hash === \"#emea\") {\n\t\t\t\t\t$(\"option[value=emea]\").prop(\"selected\", true);\n\t\t\t\t} else if (document.referrer.indexOf(\"americas\") > 0 || window.location.hash === \"#americas\") {\n\t\t\t\t\t$(\"option[value=americas]\").prop(\"selected\", true);\n\t\t\t\t}\n\n\t\t\t});\n\t\t});\n\t};\n\n\t/*\n\t * inject hidden field based on QSC location\n\t */\n\tqualysMarketo.addQscLocationField = function (marketoForm) {\n\t\tmarketoForm.whenReady(function () {\n\t\t\tif (window.location.pathname.indexOf(\"berlin\") > 0) {\n\t\t\t\t$(\"input[name=\\\"Event_Location\\\"]\").prop(\"value\", \"berlin\");\n\t\t\t} else if (window.location.pathname.indexOf(\"paris\") > 0) {\n\t\t\t\t$(\"input[name=\\\"Event_Location\\\"]\").prop(\"value\", \"paris\");\n\t\t\t\t$(\"button.mktoButton\").text(\"Inscription\");\n\t\t\t} else if (window.location.pathname.indexOf(\"london\") > 0) {\n\t\t\t\t$(\"input[name=\\\"Event_Location\\\"]\").prop(\"value\", \"london\");\n\t\t\t} else if (window.location.pathname.indexOf(\"munich\") > 0) {\n\t\t\t\t$(\"input[name=\\\"Event_Location\\\"]\").prop(\"value\", \"munich\");\n\t\t\t} else if (window.location.pathname.indexOf(\"dubai\") > 0) {\n\t\t\t\t$(\"input[name=\\\"Event_Location\\\"]\").prop(\"value\", \"dubai\");\n\t\t\t} else if (window.location.pathname.indexOf(\"mumbai\") > 0) {\n\t\t\t\t$(\"input[name=\\\"Event_Location\\\"]\").prop(\"value\", \"mumbai\");\n\t\t\t} else if (window.location.pathname.indexOf(\"san-francisco\") > 0) {\n\t\t\t\t$(\"input[name=\\\"Event_Location\\\"]\").prop(\"value\", \"san francisco\");\n\t\t\t}\n\t\t});\n\t};\n\n\t/*\n\t * inject Quantcast Order ID field with a UUID\n\t */\n\tqualysMarketo.addQuantcastOrderId = function (form) {\n\n\t\tvar uuid;\n\n\t\tuuid = window.qualys.utils.generateUUID();\n\t\tif ($(\"input[name=\\\"quantcastOrderID\\\"], input[name=\\\"Quantcast_Order_Id__c\\\"]\").length > 0) {\n\n\t\t\t$(\"input[name=\\\"quantcastOrderID\\\"]\").prop(\"value\", uuid);\n\t\t\t$(\"input[name=\\\"Quantcast_Order_Id__c\\\"]\").prop(\"value\", uuid);\n\n\t\t} else {\n\n\t\t\tform.getFormElem().append(\"<input type=\\\"hidden\\\" name=\\\"quantcastOrderID\\\" value=\\\"\" + uuid + \"\\\" />\");\n\t\t\tform.getFormElem().append(\"<input type=\\\"hidden\\\" name=\\\"Quantcast_Order_Id__c\\\" value=\\\"\" + uuid + \"\\\" />\");\n\n\t\t}\n\n\t};\n\n\t/*\n\t * inject hidden field to know of GTM was loaded or not\n\t */\n\tqualysMarketo.addGtmLoadedValue = function (form) {\n\t\tvar gtmLoaded = false;\n\n\t\tif (window.dataLayer !== undefined && window.dataLayer.length > 2) {\n\t\t\tgtmLoaded = true;\n\t\t}\n\n\t\tform.addHiddenFields({\"gTMLoaded\":gtmLoaded});\n\n\t};\n\n\t/*\n\t *  inject hidden field to identify the black listed countries\n\t */\n\n\tqualysMarketo.addBlackListedValue = function (form) {\n\n\t\tvar isBlackListed = false;\n\t\tvar countryField = form.getFormElem().find(\"#Country\");\n\t\tvar countryFieldVal = \"\";\n\n\t\tif( countryField.length ) {\n\n\t\t\tform.addHiddenFields({\"blackListed\": isBlackListed});\n\t\t\tvar blacklistFieldName = form.getFormElem().find(\"[name='blackListed']\");\n\n\t\t\t$(document).on(\"change\", countryField , function() {\n\n\t\t\t\tcountryFieldVal = countryField.val();\n\n\t\t\t\tif( countryFieldVal === \"Russian Federation\" || countryFieldVal === \"Belarus\") {\n\t\t\t\t\tisBlackListed = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tisBlackListed = false;\n\t\t\t\t}\n\n\t\t\t\tblacklistFieldName.val(isBlackListed);\n\n\t\t\t});\n\n\t\t}\n\t};\n\n\t/*\n\t * inject hidden field to know if user consented to cookie tracking\n\t */\n\tqualysMarketo.addDntCookieValue = function (form) {\n\t\tvar cookieValue = \"Not Set\";\n\t\tvar cookies = window.qualys.parseCookieString(document.cookie);\n\n\t\tcookies.forEach(function (cookie) {\n\t\t\tif (cookie.name === \"dnt\") {\n\t\t\t\tif (cookie.value === \"0\") {\n\t\t\t\t\tcookieValue = \"Opt In\";\n\t\t\t\t} else if (cookie.value === \"1\") {\n\t\t\t\t\tcookieValue = \"Opt Out\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tform.addHiddenFields({\"gDPRCookieConsent\":cookieValue});\n\t};\n\n\t/**\n\t *\n\t * fillup form with base64 code information for partner form\n\t */\n\n\t qualysMarketo.autoFillupForm = function ( form ) {\n\n\t\tvar urlParams, leadsource, x, x_decode, x_values, x_fname, fnameField, x_lname, lnameField, x_email, emailField, x_cname, cnameField, x_title, titleField, x_phone, phoneField, x_country, countryField, x_state, stateField, x_size, sizeField, x_qaccount, qaccountField, accountYes, accountNo;\n\n\t\turlParams = qualys.parseQueryString(window.location.search);\n\t\tleadsource = urlParams.leadsource;\n\n\t\tif( leadsource && typeof leadsource === \"string\"){\n\n\t\t\tx = urlParams.x;\n\n\t\t\tif( x && typeof x === \"string\") {\n\n\t\t\t\tx_decode = window.atob(x);\n\t\t\t\tx_values = qualys.parseQueryString( x_decode );\n\n\t\t\t\tx_email = sanitize( x_values.email );\n\t\t\t\tx_fname = sanitize( x_values.fname );\n\t\t\t\tx_lname = sanitize( x_values.lname );\n\t\t\t\tx_cname = sanitize( x_values.cname );\n\t\t\t\tx_title = sanitize( x_values.title );\n\t\t\t\tx_phone = sanitize( x_values.phone );\n\t\t\t\tx_country = sanitize( x_values.country );\n\t\t\t\tx_state = sanitize( x_values.state );\n\t\t\t\tx_size = sanitize( x_values.size );\n\t\t\t\tx_qaccount = sanitize( x_values.account );\n\n\t\t\t\tif( x_email && typeof x_email === \"string\") {\n\t\t\t\t\temailField = form.getFormElem().find(\"#Email\");\n\t\t\t\t\tif( emailField.length ){\n\t\t\t\t\t\temailField.val( x_email );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_fname && typeof x_fname === \"string\") {\n\t\t\t\t\tfnameField = form.getFormElem().find(\"#FirstName\");\n\t\t\t\t\tif( fnameField.length ){\n\t\t\t\t\t\tfnameField.val( x_fname );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_lname && typeof x_lname === \"string\") {\n\t\t\t\t\tlnameField = form.getFormElem().find(\"#LastName\");\n\t\t\t\t\tif( lnameField.length ){\n\t\t\t\t\t\tlnameField.val( x_lname );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_cname && typeof x_cname === \"string\") {\n\t\t\t\t\tcnameField = form.getFormElem().find(\"#Company\");\n\t\t\t\t\tif( cnameField.length ){\n\t\t\t\t\t\tcnameField.val( x_cname );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_qaccount && typeof x_qaccount === \"string\") {\n\t\t\t\t\tqaccountField = form.getFormElem().find(\"[name='qualysAccount']\");\n\t\t\t\t\tif( qaccountField.length ){\n\t\t\t\t\t\taccountYes = form.getFormElem().find(\".qualysAccount label:first-child\");\n\t\t\t\t\t\taccountNo = form.getFormElem().find(\".qualysAccount label:last-child\");\n\t\t\t\t\t\tif(x_qaccount === \"yes\") {\n\t\t\t\t\t\t\taccountYes.trigger(\"click\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(x_qaccount === \"no\") {\n\t\t\t\t\t\t\taccountNo.trigger(\"click\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_title && typeof x_title === \"string\") {\n\t\t\t\t\ttitleField = form.getFormElem().find(\"#Title\");\n\t\t\t\t\tif( titleField.length ){\n\t\t\t\t\t\ttitleField.val( x_title );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_phone && typeof x_phone === \"string\") {\n\t\t\t\t\tphoneField = form.getFormElem().find(\"#Phone\");\n\t\t\t\t\tif( phoneField.length ){\n\t\t\t\t\t\tphoneField.val( x_phone );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_country && typeof x_country === \"string\") {\n\t\t\t\t\tif ( form.getFormElem().hasClass(\"show-next-panel\" )) {\n\t\t\t\t\t\tcountryField = form.getFormElem().find(\"#Country\");\n\t\t\t\t\t\tif( countryField.length ){\n\t\t\t\t\t\t\tcountryField.val( x_country ).trigger(\"change\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_state && typeof x_state === \"string\") {\n\t\t\t\t\tstateField = form.getFormElem().find(\"#State\");\n\t\t\t\t\tif( stateField.length ){\n\t\t\t\t\t\tstateField.val( x_state );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( x_size && typeof x_size === \"string\") {\n\t\t\t\t\tsizeField = form.getFormElem().find(\"#Company_Size_Range__c_account\");\n\t\t\t\t\tif( sizeField.length ){\n\t\t\t\t\t\tsizeField.val( x_size );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t };\n\n\t/*\n\t * display a warning popup box if user attempts to leave page after filling out form\n\t */\n\tqualysMarketo.warnBeforeLeaving = function (form) {\n\t\tvar submitted = false;\n\n\t\tform.onSubmit(function () {\n\t\t\tsubmitted = true;\n\t\t});\n\n\t\twindow.addEventListener(\"beforeunload\", function (e) {\n\t\t\tvar formModifield = false;\n\t\t\tvar values = form.getValues();\n\t\t\tvar fieldNames = [\"FirstName\", \"LastName\", \"Email\", \"Company\", \"Title\", \"Phone\", \"Country\"];\n\n\t\t\tif (values) {\n\t\t\t\tfieldNames.forEach(function(fieldName) {\n\t\t\t\t\tif (values[fieldName] !== undefined && values[fieldName] !== \"\") {\n\t\t\t\t\tformModifield = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (formModifield && !submitted) {\n\t\t\t\t// https://stackoverflow.com/questions/40570164/how-to-customize-the-message-changes-you-made-may-not-be-saved-for-window-onb\n\t\t\t\tvar message = \"Custom message no longer shown\";\n\n\t\t\t\t(e || window.event).returnValue = message; //Gecko + IE\n\t\t\t\treturn message; //Gecko + Webkit, Safari, Chrome etc.\n\t\t\t}\n\t\t});\n\t};\n\n\tqualysMarketo.filterFields = function () {\n\t\t// trim form values and replace multiple spaces with 1 space\n\t\t$(\"form.mktoForm input\").on(\"blur\", function (event) {\n\t\t\tvar newVal = $.trim($(event.currentTarget).val());\n\t\t\tnewVal = newVal.replace(/\\s+/gi, \" \");\n\t\t\t$(event.currentTarget).val(newVal);\n\t\t});\n\n\t\t// lowercase email address field\n\t\t$(\"form.mktoForm #Email\").on(\"blur\", function (event) {\n\t\t\tvar newVal = $(event.currentTarget).val().toLowerCase();\n\t\t\t$(event.currentTarget).val(newVal);\n\t\t});\n\n\t\t// camelcase name fields\n\t\t$(\"form.mktoForm #FirstName, form.mktoForm #LastName\").on(\"blur\", function (event) {\n\t\t\tvar newVal = $(event.currentTarget).val();\n\t\t\tnewVal = newVal.split(\" \").map(function(word) {\n\t\t\t\tif (word[0] !== undefined) {\n\t\t\t\t\treturn word[0].toUpperCase() + word.slice(1);\n\t\t\t\t}\n\t\t\t}).join(\" \");\n\t\t\t$(event.currentTarget).val(newVal);\n\t\t});\n\n\t\t$(\"form.mktoForm\").on(\"fieldsFilled\", function () {\n\t\t\t$(\"form.mktoForm #FirstName, form.mktoForm #LastName\").trigger(\"blur\");\n\t\t});\n\t};\n\n\tvar formIsSubmitable, validCountries, validUsStates, validCanadianStates, validCompanySize, errorMessages, errors, formValueMapping, blacklistedEmailDomains = \"\", prefix = \"\", hostnames, setLocationCalled = false, zoomInfoMatchResult, stateMapping;\n\n\tstateMapping = {\n\t\t\"Alabama\":\"AL\",\n\t\t\"Alaska\":\"AK\",\n\t\t\"Arizona\":\"AZ\",\n\t\t\"Arkansas\":\"AR\",\n\t\t\"California\":\"CA\",\n\t\t\"Colorado\":\"CO\",\n\t\t\"Connecticut\":\"CT\",\n\t\t\"Delaware\":\"DE\",\n\t\t\"District of Columbia\":\"DC\",\n\t\t\"Florida\":\"FL\",\n\t\t\"Georgia\":\"GA\",\n\t\t\"Hawaii\":\"HI\",\n\t\t\"Idaho\":\"ID\",\n\t\t\"Illinois\":\"IL\",\n\t\t\"Indiana\":\"IN\",\n\t\t\"Iowa\":\"IA\",\n\t\t\"Kansas\":\"KS\",\n\t\t\"Kentucky\":\"KY\",\n\t\t\"Louisiana\":\"LA\",\n\t\t\"Maine\":\"ME\",\n\t\t\"Maryland\":\"MD\",\n\t\t\"Massachusetts\":\"MA\",\n\t\t\"Michigan\":\"MI\",\n\t\t\"Minnesota\":\"MN\",\n\t\t\"Mississippi\":\"MS\",\n\t\t\"Missouri\":\"MO\",\n\t\t\"Montana\":\"MT\",\n\t\t\"Nebraska\":\"NE\",\n\t\t\"Nevada\":\"NV\",\n\t\t\"New Hampshire\":\"NH\",\n\t\t\"New Jersey\":\"NJ\",\n\t\t\"New Mexico\":\"NM\",\n\t\t\"New York\":\"NY\",\n\t\t\"North Carolina\":\"NC\",\n\t\t\"North Dakota\":\"ND\",\n\t\t\"Ohio\":\"OH\",\n\t\t\"Oklahoma\":\"OK\",\n\t\t\"Oregon\":\"OR\",\n\t\t\"Pennsylvania\":\"PA\",\n\t\t\"Rhode Island\":\"RI\",\n\t\t\"South Carolina\":\"SC\",\n\t\t\"South Dakota\":\"SD\",\n\t\t\"Tennessee\":\"TN\",\n\t\t\"Texas\":\"TX\",\n\t\t\"Utah\":\"UT\",\n\t\t\"Vermont\":\"VT\",\n\t\t\"Virginia\":\"VA\",\n\t\t\"Washington\":\"WA\",\n\t\t\"West Virginia\":\"WV\",\n\t\t\"Wisconsin\":\"WI\",\n\t\t\"Wyoming\":\"WY\"\n\t};\n\n\thostnames = [\"lps.qualys.com\", \"www.ssllabs.com\", \"dev.ssllabs.com\"];\n\n\tif (hostnames.indexOf(window.location.hostname) !== -1) {\n\t\tprefix = \"https://www.qualys.com\";\n\t}\n\n\t// AJAX in the list of free email domain names\n\t$.ajax({\n\t\turl: prefix + \"/asset/data/domain-names-with-free-email.json\",\n\t\tdataType: \"json\",\n\t\tsuccess: function (data) {\n\t\t\tblacklistedEmailDomains = data;\n\t\t},\n\t\terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\tthrow new Error(`${errorThrown}: ${jqXHR.responseText}`);\n\t\t}\n\t});\n\n\terrorMessages = {\n\t\t\"en\" : {\n\t\t\t\"invalidEmail\" : \"Must be a valid email address, e.g. example@yourdomain.com\",\n\t\t\t\"invalidDisposableEmail\": \"Must be a valid, non-disposable email address\",\n\t\t\t\"emailTooLong\" : \"Email address is too long\",\n\t\t\t\"emailInvalidDomain\" : \"Email address must have a valid domain name\",\n\t\t\t\"workEmailRequired\" : \"Use company email. Or contact tar@qualys.com\",\n\t\t\t\"phoneTooShort\" : \"Phone number cannot be that short\",\n\t\t\t\"phoneTooLong\" : \"Phone number cannot be that long\",\n\t\t\t\"phoneExtTooShort\" : \"Phone extension cannot be that short\",\n\t\t\t\"phoneExtToolong\" : \"Phone extension cannot be that long\",\n\t\t\t\"minMaxLength\" : \"Must be between {minLength} and {maxLength} characters long\",\n\t\t\t\"minMaxValue\" : \"Must be between {minValue} and {maxValue}\",\n\t\t\t\"invalidValue\" : \"Invalid value\",\n\t\t\t\"invalidUsername\" : \"Invalid username. <a href='https://www.qualys.com/platform-identification/' target='_blank'>See correct format</a>.\",\n\t\t\t\"updateAccount\": \"Update Account\",\n\t\t\t\"usOnly\": \"This option is only available in the United States\",\n\t\t\t\"invalidFullName\": \"Must be both first and last name\",\n\t\t\t\"useCommunityEdition\": \"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> – a free version of the Qualys Cloud Platform\"\n\t\t},\n\t\t\"fr\" : {\n\t\t\t\"invalidEmail\" : \"Doit être une adresse email correcte, par ex. votrenom@votrenomdedomaine.com.\",\n\t\t\t\"emailTooLong\" : \"Adresse électronique est trop long.\",\n\t\t\t\"emailInvalidDomain\" : \"Adresse électronique doit avoir une name. de domaine valide.\",\n\t\t\t\"workEmailRequired\" : \"Si vous avez besoin d'aide, contactez tar@qualys.com.\",\n\t\t\t\"PhoneTooShort\" : \"Téléphone ne peut être que short.\",\n\t\t\t\"PhoneTooLong\" : \"Téléphone ne peut être que long.\",\n\t\t\t\"phoneExtTooShort\" : \"Téléphone extension ne peut être que short.\",\n\t\t\t\"phoneExtToolong\" : \"Téléphone extension ne peut être que long.\",\n\t\t\t\"minMaxLength\" : \"Doit comprendre entre {longueurmin} et {longueurmax} caractères.\",\n\t\t\t\"minMaxValue\" : \"Doit être entre {Valeurmin} et {Valeurmax}.\",\n\t\t\t\"invalidValue\" : \"Valeur incorrecte\",\n\t\t\t\"updateAccount\": \"Mettre à jour le compte\",\n\t\t\t\"usOnly\": \"This option is only available in the United States.\",\n\t\t\t\"invalidFullName\": \"Must be both first and last name\",\n\t\t\t\"useCommunityEdition\": \"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> – a free version of the Qualys Cloud Platform.\"\n\t\t},\n\t\t\"de\" : {\n\t\t\t\"invalidEmail\" : \"Muss eine gültige E-Mail-Adresse sein, z.B. example@yourdomain.com.\",\n\t\t\t\"emailTooLong\" : \"E-Mail zu long.\",\n\t\t\t\"emailInvalidDomain\" : \"E-Mail müssen einen gültigen Domain-name.\",\n\t\t\t\"workEmailRequired\" : \"Bei Fragen kontaktieren Sie bitte tar@qualys.com.\",\n\t\t\t\"PhoneTooShort\" : \"Telefonnummer nicht, dass short. sein\",\n\t\t\t\"PhoneTooLong\" : \"Telefonnummer nicht, dass long. sein\",\n\t\t\t\"phoneExtTooShort\" : \"Telefonnummer Erweiterung kann nicht short sein.\",\n\t\t\t\"phoneExtToolong\" : \"Telefonnummer Erweiterung kann nicht long sein.\",\n\t\t\t\"minMaxLength\" : \"Muss zwischen {minLength} und {maxLength} Zeichen lang sein.\",\n\t\t\t\"minMaxValue\" : \"Muss zwischen {minValue} und {maxValue} liegen.\",\n\t\t\t\"invalidValue\" : \"Ungültiger Wert\",\n\t\t\t\"updateAccount\": \"Konto aktualisieren\",\n\t\t\t\"usOnly\": \"This option is only available in the United States.\",\n\t\t\t\"invalidFullName\": \"Must be both first and last name\",\n\t\t\t\"useCommunityEdition\": \"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> – a free version of the Qualys Cloud Platform.\"\n\t\t},\n\t\t\"es\" : {\n\t\t\t\"invalidEmail\" : \"Must be a valid email address, e.g. example@yourdomain.com.\",\n\t\t\t\"emailTooLong\" : \"Electronico es muy largo.\",\n\t\t\t\"emailInvalidDomain\" : \"Electronico address debe tener un dominio válido name.\",\n\t\t\t\"workEmailRequired\" : \"Para más información, no dude en contactarnos en tar@qualys.com.\",\n\t\t\t\"PhoneTooShort\" : \"Número de teléfono es muy corto.\",\n\t\t\t\"PhoneTooLong\" : \"Número de teléfono es muy largo.\",\n\t\t\t\"phoneExtTooShort\" : \"Número de teléfono extensión es muy corto.\",\n\t\t\t\"phoneExtToolong\" : \"Número de teléfono extensión es muy largo.\",\n\t\t\t\"minMaxLength\" : \"Must be between {minLength} and {maxLength} characters long.\",\n\t\t\t\"minMaxValue\" : \"Must be between {minValue} and {maxValue}.\",\n\t\t\t\"invalidValue\" : \"Invalid value\",\n\t\t\t\"updateAccount\": \"Update Account\",\n\t\t\t\"usOnly\": \"This option is only available in the United States.\",\n\t\t\t\"invalidFullName\": \"Must be both first and last name\",\n\t\t\t\"useCommunityEdition\": \"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> – a free version of the Qualys Cloud Platform.\"\n\t\t},\n\t\t\"ru\" : {\n\t\t\t\"invalidEmail\" : \"Must be a valid email address, e.g. example@yourdomain.com.\",\n\t\t\t\"emailTooLong\" : \"Адрес электронной почты слишком long.\",\n\t\t\t\"emailInvalidDomain\" : \"Адрес электронной почты должны иметь действительный name. области\",\n\t\t\t\"workEmailRequired\" : \"За помощью обращайтесь на tar@qualys.com.\",\n\t\t\t\"PhoneTooShort\" : \"Телефон не может быть, что short.\",\n\t\t\t\"PhoneTooLong\" : \"Телефон не может быть, что long.\",\n\t\t\t\"phoneExtTooShort\" : \"Телефон расширение не может быть, что short.\",\n\t\t\t\"phoneExtToolong\" : \"Телефон расширение не может быть, что long.\",\n\t\t\t\"minMaxLength\" : \"Must be between {minLength} and {maxLength} characters long.\",\n\t\t\t\"minMaxValue\" : \"Must be between {minValue} and {maxValue}.\",\n\t\t\t\"invalidValue\" : \"Invalid value\",\n\t\t\t\"updateAccount\": \"Обновить аккаунт\",\n\t\t\t\"usOnly\": \"This option is only available in the United States.\",\n\t\t\t\"invalidFullName\": \"Must be both first and last name\",\n\t\t\t\"useCommunityEdition\": \"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> – a free version of the Qualys Cloud Platform.\"\n\t\t}\n\t};\n\n\tformValueMapping = {\n\t\t\"Express Lite\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"306\",\n\t\t\t\"last_mkt_asset\": \"306\",\n\t\t\t\"Company_Size_Range__c_account\": \"1-250\"\n\t\t},\n\t\t\"Express\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"306\",\n\t\t\t\"last_mkt_asset\": \"306\",\n\t\t\t\"Company_Size_Range__c_account\": \"251-5000\"\n\t\t},\n\t\t\"Enterprise\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"305\",\n\t\t\t\"last_mkt_asset\": \"305\",\n\t\t\t\"Company_Size_Range__c_account\": \"5000+\"\n\t\t},\n\t\t\"Consultant\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"308\",\n\t\t\t\"last_mkt_asset\": \"308\",\n\t\t\t\"Company_Size_Range__c_account\": \"Security Consultant\"\n\t\t},\n\t\t\"Federal Government\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"359\",\n\t\t\t\"last_mkt_asset\": \"359\",\n\t\t\t\"Company_Size_Range__c_account\": \"Federal Government\"\n\t\t},\n\t\t\"1-250\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"306\",\n\t\t\t\"last_mkt_asset\": \"306\",\n\t\t},\n\t\t\"251-5000\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"306\",\n\t\t\t\"last_mkt_asset\": \"306\",\n\t\t},\n\t\t\"5000+\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"305\",\n\t\t\t\"last_mkt_asset\": \"305\",\n\t\t},\n\t\t\"Security Consultant\": {\n\t\t\t\"Marketing_Asset_Id_Current__c\": \"308\",\n\t\t\t\"last_mkt_asset\": \"308\",\n\t\t},\n\t};\n\n\t// function to translate / localize error messages\n\t// the parameter \"object\" takes a JSON object containing optional parameters\n\t// e.g. {\"minValue\" : 2, \"maxValue\" : 4}\n\tqualysMarketo.t = function (errorKey, object) {\n\t\tvar translatedMessage, lang, $body, key;\n\t\tlang = \"en\";\n\t\t$body = $(\"body\");\n\n\t\tif ($body.hasClass(\"fr\")) {lang = \"fr\";}\n\t\tif ($body.hasClass(\"de\")) {lang = \"de\";}\n\t\tif ($body.hasClass(\"es\")) {lang = \"es\";}\n\t\tif ($body.hasClass(\"ru\")) {lang = \"ru\";}\n\n\t\ttranslatedMessage = errorMessages[lang][errorKey];\n\n\t\tfor (key in object) {\n\t\t\tif (object.hasOwnProperty(key)) {\n\t\t\t\ttranslatedMessage = translatedMessage.replace(\"{\" + key + \"}\", object[key]);\n\t\t\t}\n\t\t}\n\n\t\treturn translatedMessage;\n\t};\n\n\t// validate email length\n\t// 254 octets, maximum according to RFC 5321\n\t// it is not 320 octets as originally specified in RFC 3696, which has been corrected to 254 octets\n\t// 100 octets, maximum specified by Qualys Engineering\n\tqualysMarketo.validateEmail = function (form) {\n\t\tvar val, emailDomainPart, emailLocalPart;\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\tif (val.Email !== undefined) {\n\t\t\temailLocalPart = val.Email.split(\"@\")[0];\n\t\t\temailDomainPart = val.Email.split(\"@\")[1];\n\n\t\t\t// validate email field\n\t\t\tif (val.Email.match(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}/gi) === null) {\n\t\t\t\t// email format must be valid\n\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"invalidEmail\")});\n\t\t\t}\n\t\t\tif (qualysMarketo.getUTF8Length(val.Email) > 100) {\n\t\t\t\t//email address length may not exceed 100 characters\n\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"emailTooLong\")});\n\t\t\t}\n\t\t\tif (qualysMarketo.getUTF8Length(emailDomainPart) > 253) {\n\t\t\t\t// RFC 5321 Section 4.5.3.1.2\n\t\t\t\t// email domain length must not exceed 253 characters\n\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"emailTooLong\")});\n\t\t\t}\n\t\t\tif (qualysMarketo.getUTF8Length(emailLocalPart) > 64) {\n\t\t\t\t// RFC 5321 Section 4.5.3.1.1\n\t\t\t\t// email local part length must not exceed 64 characters\n\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"emailTooLong\")});\n\t\t\t}\n\n\t\t\tif (emailDomainPart && emailDomainPart.trim() !== \"qualys.com\") { // exclude qualys.com emails for testing\n\t\t\t\tvar neverBounceStatuses = [\"invalid\", \"disposable\"];\n\t\t\t\tvar dataZiNeverBounceStatus = form.getFormElem().find(\"#Email\").attr(\"data-zi-neverbounce-status\");\n\t\t\t\t// dataZiNeverBounceStatus = \"disposable\";\n\t\t\t\tif (dataZiNeverBounceStatus !== undefined && dataZiNeverBounceStatus.trim() !== \"\") {\n\t\t\t\t\tif ($(\"input[name=\\\"neverBounceResultStatus\\\"]\").length > 0) {\n\t\t\t\t\t\t$(\"input[name=\\\"neverBounceResultStatus\\\"]\").prop(\"value\", dataZiNeverBounceStatus);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform.getFormElem().append(\"<input type=\\\"hidden\\\" name=\\\"neverBounceResultStatus\\\" value=\\\"\" + dataZiNeverBounceStatus + \"\\\" />\");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (neverBounceStatuses.includes(dataZiNeverBounceStatus)) {\n\t\t\t\t\t\t// if ZoomInfo NeverBounce status is \"invalid\" or \"disposable\"\n\t\t\t\t\t\t// return invalid email to user\n\t\t\t\t\t\t// temporarily disable validation due to false positives\n\t\t\t\t\t\t// errors.push({\"[name='Email']\": qualysMarketo.t(\"invalidDisposableEmail\")});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.ga) {\n\t\t\t\t\t\twindow.ga(\"send\", {\n\t\t\t\t\t\t\thitType: \"event\",\n\t\t\t\t\t\t\teventCategory: \"Form Progression\",\n\t\t\t\t\t\t\teventAction: \"Info: NeverBounce result is \" + dataZiNeverBounceStatus,\n\t\t\t\t\t\t\teventLabel: \"Email\",\n\t\t\t\t\t\t\tnonInteraction: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (emailDomainPart !== undefined) {\n\t\t\t\tif (emailDomainPart.match(/^[A-Za-z0-9\\-.]+$/) === null) {\n\t\t\t\t\t// invalid characters in email domain name\n\t\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"emailInvalidDomain\")});\n\t\t\t\t}\n\t\t\t\tif (emailDomainPart.match(/\\.{2}/) !== null) {\n\t\t\t\t\t// email domain part may not have two consecutive dots\n\t\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"emailInvalidDomain\")});\n\t\t\t\t}\n\t\t\t\tif (emailDomainPart === \"qualys.com\") {\n\t\t\t\t\t// block email aliases at qualys.com\n\t\t\t\t\tswitch (emailLocalPart) {\n\t\t\t\t\tcase \"info\":\n\t\t\t\t\tcase \"sales\":\n\t\t\t\t\tcase \"sales-triage-group\":\n\t\t\t\t\tcase \"salesinquiry\":\n\t\t\t\t\tcase \"tar\":\n\t\t\t\t\tcase \"web-dev\":\n\t\t\t\t\tcase \"webmaster\":\n\t\t\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"invalidEmail\")});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (window.location.pathname.indexOf(\"/forms/freescan/\") !== -1) {\n\t\t\t\t\t// FreeScan forms only accept corporate email addresses unless the country is US or UK\n\t\t\t\t\t// AJAX in the free email domain names\n\t\t\t\t\tvar country = $(\"#Country\").val();\n\n\t\t\t\t\tif (country !== \"\" && country !== \"United States\" && country !== \"United Kingdom (GB)\") {\n\t\t\t\t\t\tif ($.inArray(emailDomainPart, blacklistedEmailDomains) !== -1) {\n\t\t\t\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"workEmailRequired\")});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// block personal emails on all forms except some\n\t\t\t\t// the Community Edition form (2470) blocks personal email address but allows .edu ones\n\t\t\t\t// since the blacklist doesn't contain any .edu email addresses\n\t\t\t\tvar formsIdsAllowPersonalEmails = [1226,3500,3754];\n\t\t\t\tif ($.inArray(emailDomainPart, blacklistedEmailDomains) !== -1 && !formsIdsAllowPersonalEmails.includes(form.getId())) {\n\t\t\t\t\terrors.push({\"[name='Email']\": qualysMarketo.t(\"workEmailRequired\")});\n\t\t\t\t}\n\n\t\t\t\t// block .edu email addresses from Consultant form\n\t\t\t\tif (form.getId() === 1803 && emailDomainPart.includes(\".edu\")) {\n\t\t\t\t\terrors.push({ \"[name='Email']\": qualysMarketo.t(\"useCommunityEdition\") });\n\t\t\t\t\tform.getFormElem().find(\"[type='submit'].mktoButton\").addClass(\"disabled\");\n\t\t\t\t\tform.submitable(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate phone\n\tqualysMarketo.validatePhone = function (form) {\n\t\tvar val, phone, extension, numPhoneDigits, numExtDigits, pattern;\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\t\tphone = extension = \"\";\n\n\t\tif (val.Phone !== undefined) {\n\t\t\tif (val.Phone.match(/x/i) !== null) {\n\t\t\t\tval.Phone = val.Phone.replace(\"X\", \"x\");\n\t\t\t\tphone = val.Phone.split(\"x\")[0];\n\t\t\t\textension = val.Phone.split(\"x\")[1];\n\t\t\t\tif ($.trim(phone) !== \"\") {\n\t\t\t\t\tnumPhoneDigits = phone.replace(/\\D/gi, \"\").length;\n\t\t\t\t}\n\t\t\t\tif ($.trim(extension) !== \"\") {\n\t\t\t\t\tnumExtDigits = extension.replace(/\\D/gi, \"\").length;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($.trim(val.Phone) !== \"\") {\n\t\t\t\t\tnumPhoneDigits = $.trim(val.Phone).length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpattern = new XRegExp(\"^[\\\\p{Number}\\\\p{Punctuation}\\\\p{Math_Symbol}\\\\p{Space_Separator}ext]+$\", \"i\");\n\t\t\tif (!pattern.test(val.Phone)) {\n\t\t\t\t// phone number must only contain digits, punctuation, spaces and x\n\t\t\t\terrors.push({\"[name='Phone']\": qualysMarketo.t(\"invalidValue\")});\n\t\t\t}\n\t\t\tif (numPhoneDigits < 7) {\n\t\t\t\t// phone number must contain between 7 and 15 digits\n\t\t\t\terrors.push({\"[name='Phone']\": qualysMarketo.t(\"phoneTooShort\")});\n\t\t\t}\n\t\t\tif (numPhoneDigits > 15) {\n\t\t\t\t// phone number must contain between 7 and 15 digits\n\t\t\t\terrors.push({\"[name='Phone']\": qualysMarketo.t(\"phoneTooLong\")});\n\t\t\t}\n\t\t\tif (numExtDigits !== 0 && numExtDigits < 2) {\n\t\t\t\t// phone extension must contain between 2 and 4 digits\n\t\t\t\terrors.push({\"[name='Phone']\": qualysMarketo.t(\"phoneExtTooShort\")});\n\t\t\t}\n\t\t\tif (numExtDigits !== 0 && numExtDigits > 4) {\n\t\t\t\t// phone extension must contain between 2 and 4 digits\n\t\t\t\terrors.push({\"[name='Phone']\": qualysMarketo.t(\"phoneExtToolong\")});\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate job title\n\tqualysMarketo.validateJobTitle = function (form) {\n\t\tvar val;\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\tif (val.Title !== undefined) {\n\t\t\tif (val.Title.toLowerCase() === \"student\" && val.Marketing_Asset_Id_Current__c === \"308\") {\n\t\t\t\terrors.push({ \"[name='Title']\": qualysMarketo.t(\"useCommunityEdition\") });\n\t\t\t\tform.getFormElem().find(\"[type='submit'].mktoButton\").addClass(\"disabled\");\n\t\t\t\tform.submitable(false);\n\t\t\t} else {\n\t\t\t\tform.getFormElem().find(\"[type='submit'].mktoButton\").removeClass(\"disabled\");\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate username\n\tqualysMarketo.validateUsername = function (form) {\n\t\tvar val, pattern, platformUsernameInvalid, pciUsernameInvalid;\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\tif (val.Qualys_Username__c !== undefined) {\n\t\t\tplatformUsernameInvalid = false;\n\n\t\t\t// for all trial forms, the username must match pattern based on format at https://www.qualys.com/platform-identification/\n\t\t\tpattern = new XRegExp(\"^\\\\p{L}{1,5}[_235897!-]\\\\p{L}{2}\\\\d{0,2}$\", \"i\");\n\t\t\tif (!pattern.test(val.Qualys_Username__c)) {\n\t\t\t\tplatformUsernameInvalid = true;\n\t\t\t}\n\n\t\t\tpciUsernameInvalid = false;\n\n\t\t\t// for the PCI Compliance trial form, the username must have an @ symbol\n\t\t\tif (window.location.pathname.indexOf(\"forms/pci-compliance\") !== -1) {\n\t\t\t\tif (val.Qualys_Username__c.indexOf(\"@\") === -1) {\n\t\t\t\t\tpciUsernameInvalid = true;\n\t\t\t\t}\n\t\t\t\tif (pciUsernameInvalid && platformUsernameInvalid) {\n\t\t\t\t\terrors.push({\"[name='Qualys_Username__c']\": qualysMarketo.t(\"invalidValue\")});\n\t\t\t\t}\n\t\t\t} else if (platformUsernameInvalid) {\n\t\t\t\terrors.push({\"[name='Qualys_Username__c']\": qualysMarketo.t(\"invalidUsername\")});\n\t\t\t}\n\t\t}\n\t};\n\n\t// get user's platform based on username\n\t// as of May 2, 2018, this is only used on the CertView and CloudView forms\n\t// Marketo sandbox form ID 2133\n\t// Marketo production form ID 2470\n\tqualysMarketo.getPlatform = function (formValues) {\n\t\tvar platforms, identifier;\n\n\t\tplatforms = {\n\t\t\t\"_\": \"US Platform 1\",\n\t\t\t\"2\": \"US Platform 2\",\n\t\t\t\"3\": \"US Platform 3\",\n\t\t\t\"-\": \"EU Platform 1\",\n\t\t\t\"5\": \"EU Platform 2\",\n\t\t\t\"!\": \"EU Platform 2\",\n\t\t\t\"8\": \"IN Platform 1\",\n\t\t};\n\n\t\t// platform is based on the 6th character of the username\n\t\tif (formValues[\"Qualys_Username__c\"] !== undefined && formValues[\"Qualys_Username__c\"].length >= 6) {\n\t\t\tidentifier = formValues[\"Qualys_Username__c\"].slice(5, 6);\n\t\t\tformValues[\"Qualys_Username_Platform__c\"] = platforms[identifier];\n\t\t}\n\n\t\treturn formValues;\n\t};\n\n\t// validate length\n\tqualysMarketo.validateLength = function (form, field, minLength, maxLength) {\n\t\tvar val, length, fieldId, errObj;\n\t\tfieldId = \"[name='\" + field + \"']\";\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\tif (val[field] !== undefined) {\n\t\t\tlength = val[field].length;\n\n\t\t\t// phone number must contain between 7 and 15 digits\n\t\t\tif (length < minLength || length > maxLength) {\n\t\t\t\terrObj = {};\n\t\t\t\terrObj[fieldId] = qualysMarketo.t(\"minMaxLength\", {\"minLength\" : minLength, \"maxLength\" : maxLength});\n\t\t\t\terrors.push(errObj);\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate a hidden field value against a Unicode regex\n\t// requires XRegExp 3.0.0 library\n\t// https://github.com/slevithan/xregexpd\n\tqualysMarketo.validateUnicodeRegexField = function (form, field, regex) {\n\t\tvar val, unicodeRegex, fieldId, errObj;\n\t\tfieldId = \"[name='\" + field + \"']\";\n\n\t\tunicodeRegex = new XRegExp(regex);\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\tif (val[field] !== undefined && val[field] !== \"\") {\n\t\t\t// field value must match regex\n\t\t\tif (unicodeRegex.test(val[field]) === false) {\n\t\t\t\terrObj = {};\n\t\t\t\tif (field === \"fullNameForForms\") {\n\t\t\t\t\terrObj[fieldId] = qualysMarketo.t(\"invalidFullName\");\n\t\t\t\t} else {\n\t\t\t\t\terrObj[fieldId] = qualysMarketo.t(\"invalidValue\");\n\t\t\t\t}\n\n\t\t\t\terrors.push(errObj);\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate numeric value\n\tqualysMarketo.validateNumericValue = function (form, field, minValue, maxValue) {\n\t\tvar val, fieldId, errObj;\n\t\tfieldId = \"[name='\" + field + \"']\";\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\t\t// get form id\n\t\tvar mktoFormId = form.getId();\n\n\t\tif (val[field] !== undefined) {\n\t\t\tif (!$.isNumeric(val[field])) {\n\t\t\t\tif (mktoFormId === 3079) {\n\t\t\t\t\terrors.push({\"[name='Number_of_Remote_Endpoints__c']\": qualysMarketo.t(\"invalidValue\")});\n\t\t\t\t} else if (mktoFormId === 3357) {\n\t\t\t\t\terrors.push({\"[name='Number_of_Assets__c']\": qualysMarketo.t(\"invalidValue\")});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (val[field] < minValue || val[field] > maxValue) {\n\t\t\t\terrObj = {};\n\t\t\t\terrObj[fieldId] = qualysMarketo.t(\"minMaxValue\", {\"minValue\" : minValue, \"maxValue\" : maxValue});\n\t\t\t\terrors.push(errObj);\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate country\n\tqualysMarketo.validateCountry = function (form) {\n\t\t// only validate country if it's a select dropdown field\n\t\tif ($(\"[name='Country']\").get(0) !== undefined && $(\"[name='Country']\").get(0).tagName === \"SELECT\")  {\n\t\t\tvar val;\n\n\t\t\t// get all field values\n\t\t\tval = form.getValues();\n\n\t\t\tif (val.Country !== undefined && validCountries.length > 0) {\n\t\t\t\t// country must be a valid country\n\t\t\t\tif ($.inArray(val.Country, validCountries) === -1 || val.Country.indexOf(\"---\") > -1) {\n\t\t\t\t\terrors.push({\"[name='Country']\": qualysMarketo.t(\"invalidValue\")});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate state\n\tqualysMarketo.validateState = function (form) {\n\t\tfunction checkValidState() {\n\t\t\tif ($.inArray(val.State, validStates) === -1) {\n\t\t\t\terrors.push({\"[name='State']\": qualysMarketo.t(\"invalidValue\")});\n\t\t\t}\n\t\t}\n\n\t\t// only validate state if it's a select dropdown field\n\t\tif ($(\"[name='State']\").get(0) !== undefined && $(\"[name='State']\").get(0).tagName === \"SELECT\")  {\n\t\t\tvar val, validStates;\n\n\t\t\t// get all field values\n\t\t\tval = form.getValues();\n\n\t\t\tif (val.State !== undefined) {\n\t\t\t\tif (validUsStates === undefined || validCanadianStates === undefined) {\n\t\t\t\t\t$(\"#Country\").trigger(\"change\");\n\t\t\t\t}\n\n\t\t\t\t// state must be a valid state in the corresponding country\n\t\t\t\tif (val.Country === \"United States\") {\n\t\t\t\t\tvalidStates = validUsStates;\n\t\t\t\t\tcheckValidState();\n\t\t\t\t} else if (val.Country === \"Canada\") {\n\t\t\t\t\tvalidStates = validCanadianStates;\n\t\t\t\t\tcheckValidState();\n\t\t\t\t} else {\n\t\t\t\t\t// country is not US and Canada so set state to empty string\n\t\t\t\t\t$(\"[name='State']\").val(\"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate trial packages\n\tqualysMarketo.validateTrialPackage = function (form) {\n\t\tvar val;\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\t// if package is \"Federal Government\" and country is not \"United States\", show error message\n\t\tif (val.formTrialPackageType === \"Federal Government\" && val.Country !== \"United States\") {\n\t\t\terrors.push({\"[name='formTrialPackageType']\": qualysMarketo.t(\"usOnly\")});\n\t\t}\n\n\t\t// if user changes the country field, Marketo triggers multiple validations displaying duplicate error messages. this code removes these invalid and duplicate errors.\n\t\t$(\"#Country\").on(\"change\", function () {\n\t\t\t$(\".mktoRadioList.formTrialPackageType .mktoError\").remove();\n\t\t});\n\t};\n\n\t// validate company size\n\tqualysMarketo.validateCompanySize = function (form) {\n\t\tvar val;\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\tif (val.company_size_range !== undefined) {\n\t\t\t// company size must be a valid company size\n\t\t\tif ($.inArray(val.company_size_range, validCompanySize) === -1) {\n\t\t\t\terrors.push({\"[name='company_size_range']\": qualysMarketo.t(\"invalidValue\")});\n\t\t\t}\n\t\t}\n\t};\n\n\t// validate name of guests\n\t// if number of guests > 0, then make textarea field required\n\tqualysMarketo.validateNameOfGuests = function (form) {\n\t\tvar val;\n\n\t\t// get all field values\n\t\tval = form.getValues();\n\n\t\tif (parseInt(val.numberofGuests) > 0 && val.nameofGuests.trim() === \"\") {\n\t\t\terrors.push({\"[name='nameofGuests']\": qualysMarketo.t(\"invalidValue\")});\n\t\t}\n\t};\n\n\tqualysMarketo.postFilterFields = function () {\n\t\t// decode URL fields\n\t\t$(\"form.mktoForm #kw, form.mktoForm #leadsource, form.mktoForm #link, form.mktoForm #referer, form.mktoForm #lsid\").each(function (index, element) {\n\t\t\tvar newVal = decodeURIComponent($(element).val());\n\t\t\t$(element).val(newVal);\n\t\t});\n\t};\n\n\t// do basic form field validation\n\tqualysMarketo.basicValidation = function (form) {\n\t\tvar formId, fieldElem;\n\t\tformIsSubmitable = true;\n\t\terrors = [];\n\n\t\tformId = form.getId();\n\n\t\tqualysMarketo.validateEmail(form);\n\t\tqualysMarketo.validatePhone(form);\n\t\tif (formId !== 1226) {\n\t\t\tqualysMarketo.validateLength(form, \"FirstName\", 0, 50);\n\t\t\tqualysMarketo.validateLength(form, \"LastName\", 0, 50);\n\t\t}\n\t\tif (formId === 3500) {\n\t\t\tqualysMarketo.validateNameOfGuests(form);\n\t\t}\n\t\tqualysMarketo.validateLength(form, \"Company\", 0, 70);\n\t\tqualysMarketo.validateLength(form, \"Title\", 0, 100);\n\t\tqualysMarketo.validateJobTitle(form);\n\t\tqualysMarketo.validateNumericValue(form, \"LeadSource\", 1, 9999999999);\n\t\tqualysMarketo.validateNumericValue(form, \"Number_of_Remote_Endpoints__c\", 1, 250000);\n\t\tqualysMarketo.validateNumericValue(form, \"Number_of_Assets__c\", 1, 250000);\n\t\tqualysMarketo.validateCountry(form);\n\t\tqualysMarketo.validateState(form);\n\t\tqualysMarketo.validateTrialPackage(form);\n\t\tqualysMarketo.validateCompanySize(form);\n\t\tqualysMarketo.validateUsername(form);\n\t\tif (formId === 3014) {\n\t\t\tqualysMarketo.validateUnicodeRegexField(form, \"fullNameForForms\", \"\\\\pL+\\\\p{Zs}+\\\\pL+\");\n\t\t}\n\t\tqualysMarketo.validateUnicodeRegexField(form, \"FirstName\", \"\\\\pL+\");\n\t\tqualysMarketo.validateUnicodeRegexField(form, \"LastName\", \"\\\\pL+\");\n\t\tqualysMarketo.validateUnicodeRegexField(form, \"kw\", \"^\\\\PC+$\");\n\t\tqualysMarketo.validateUnicodeRegexField(form, \"referer\", \"^\\\\PC+$\");\n\t\tqualysMarketo.postFilterFields();\n\n\t\t// fix bug with lp pages\n\t\t// if custom email error message exists in addition to other error messages,\n\t\t// only show custom email error message until user fixes the error\n\t\tif (errors.length > 1) {\n\t\t\tif (window.location.pathname.indexOf(\"/lp/\") !== -1) {\n\t\t\t\tvar emailErrorObject;\n\n\t\t\t\t// loop over errors array\n\t\t\t\t$.each(errors, function (index, errObject) {\n\t\t\t\t\t$.each(errObject, function (fieldId) {\n\t\t\t\t\t\t// if custom email error exists, save it\n\t\t\t\t\t\tif (fieldId === \"[name='Email']\") {\n\t\t\t\t\t\t\temailErrorObject = errObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// reset errors array\n\t\t\t\terrors = [];\n\t\t\t\t// insert only the custom error message into the errors array\n\t\t\t\terrors.push(emailErrorObject);\n\t\t\t}\n\t\t}\n\n\t\t// for 2-panel forms\n\t\t// remove panel 2 errors in the errors array if user is still on panel 1\n\t\tif ($(\".show-first-panel\").length === 1) {\n\t\t\t// user is on first panel\n\t\t\t// console.log(errors);\n\t\t\t$.each(errors, function (index, errObject) {\n\t\t\t\t$.each(errObject, function (fieldId) {\n\t\t\t\t\t// console.log(fieldId);\n\t\t\t\t\t// console.log($(\".panel1 \" + fieldId));\n\t\t\t\t\tif ($(\".panel1 \" + fieldId).length === 0) {\n\t\t\t\t\t\t// console.log(index);\n\t\t\t\t\t\terrors.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\t// console.log(errors);\n\t\t}\n\n\t\tif (errors.length > 0) {\n\t\t\tformIsSubmitable = false;\n\t\t\tconsole.log(errors);\n\t\t\t$.each(errors, function (index, errObject) {\n\t\t\t\t$.each(errObject, function (fieldId, errMsg) {\n\t\t\t\t\tfieldElem = form.getFormElem().find(fieldId);\n\t\t\t\t\tif (fieldElem.prop(\"type\") === \"hidden\") {\n\t\t\t\t\t\t// if element is hidden, show error in console\n\t\t\t\t\t\t/* eslint-disable no-console */\n\t\t\t\t\t\tconsole.error(errObject);\n\t\t\t\t\t\t/* eslint-enable no-console */\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// otherwise, show error to user\n\t\t\t\t\t\t$(fieldElem).addClass(\"mktoInvalid\").removeClass(\"mktoValid\");\n\t\t\t\t\t\tfieldElem = form.getFormElem().find(fieldId);\n\t\t\t\t\t\t/* IMPORTANT\n\t\t\t\t\t\t/* CUSTOM ERROR MESSAGES ARE ONLY DISPLAYED\n\t\t\t\t\t\t   AFTER MARKETO ERROR MESSAGES HAVE BEEN RESOLVED */\n\t\t\t\t\t\tform.showErrorMessage(errMsg, fieldElem);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// FOR DEBUGGING\n\t\t/*$(\".mktoButton\").on(\"click\", function () {\n\t\t\tconsole.log(JSON.parse(JSON.stringify(errors)));\n\t\t});*/\n\n\t\t// move custom trial package error message to where we want it\n\t\tvar customTrialPackageError = $(\".mktoRadioList.formTrialPackageType label .mktoError\").detach();\n\t\t$(\".mktoRadioList.formTrialPackageType\").append(customTrialPackageError);\n\n\t\tform.submitable(formIsSubmitable);\n\t\treturn formIsSubmitable;\n\t};\n\n\t// get valid countries\n\tqualysMarketo.getValidCountries = function () {\n\t\tvar $options;\n\t\tvalidCountries = [];\n\n\t\t$options = $(\"#Country option\");\n\n\t\tvalidCountries = $.map($options, function (option) {\n\t\t\treturn option.value;\n\t\t});\n\n\t\treturn _.uniq(validCountries);\n\t};\n\n\t// get valid US states\n\tqualysMarketo.getValidUsStates = function () {\n\t\tvar $options;\n\t\tvalidUsStates = [];\n\n\t\t$options = $(\"#State option\");\n\n\t\tvalidUsStates = $.map($options, function (option) {\n\t\t\treturn option.value;\n\t\t});\n\n\t\treturn validUsStates;\n\t};\n\n\t// get valid Canadian states\n\tqualysMarketo.getValidCanadianStates = function () {\n\t\tvar $options;\n\t\tvalidCanadianStates = [];\n\n\t\t$options = $(\"#State option\");\n\n\t\tvalidCanadianStates = $.map($options, function (option) {\n\t\t\treturn option.value;\n\t\t});\n\n\t\treturn validCanadianStates;\n\t};\n\n\t// get valid countries\n\tqualysMarketo.getValidCompanySize = function () {\n\t\tvar $options;\n\t\tvalidCompanySize = [];\n\n\t\t$options = $(\"#company_size_range option\");\n\t\tvalidCompanySize = $.map($options, function (option) {\n\t\t\treturn option.value;\n\t\t});\n\n\t\treturn validCompanySize;\n\t};\n\n\t// call various helper functions\n\tqualysMarketo.setup = function (form) {\n\t\tvar gotUsStates, gotCanadianStates, countryCol;\n\t\tgotUsStates = false;\n\t\tgotCanadianStates = false;\n\n\t\tqualysMarketo.getValidCountries(form);\n\t\tqualysMarketo.getValidCompanySize(form);\n\n\t\t// get valid states\n\t\tif (!gotUsStates || !gotCanadianStates) {\n\t\t\tif ($(\"[name='State']\").get(0) !== undefined && $(\"[name='State']\").get(0).tagName === \"SELECT\")  {\n\t\t\t\t// this is a select / dropdown field\n\t\t\t\t$(document).on(\"focus\", \"#State\", function () {\n\t\t\t\t\tif ($(\"#State option[value='CA']\").length == 1) {\n\t\t\t\t\t\t// CA = California so get US states\n\t\t\t\t\t\tqualysMarketo.getValidUsStates(form);\n\t\t\t\t\t\tgotUsStates = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqualysMarketo.getValidCanadianStates(form);\n\t\t\t\t\t\tgotCanadianStates = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$(\"#Country\").on(\"change\", function (event) {\n\t\t\t\t\tif ($(event.currentTarget).val() === \"United States\" && !gotUsStates) {\n\t\t\t\t\t\tqualysMarketo.getValidUsStates(form);\n\t\t\t\t\t\tgotUsStates = true;\n\t\t\t\t\t} else if ($(event.currentTarget).val() === \"Canada\" && !gotCanadianStates) {\n\t\t\t\t\t\tqualysMarketo.getValidCanadianStates(form);\n\t\t\t\t\t\tgotCanadianStates = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// move state field into the Marketo row with the country field on layout2 (wide) forms\n\t\tcountryCol = $(\"#Country\").parents(\".mktoFormCol\").get(0);\n\t\t$(\".layout2 #State\").parents(\".mktoFormCol\").insertAfter(countryCol);\n\t};\n\n\t// function to count # of bytes in a string\n\t// http://stackoverflow.com/questions/2848462/count-bytes-in-textarea-using-javascript/12206089#12206089\n\tqualysMarketo.getUTF8Length = function(s) {\n\t\tvar len, code, i;\n\t\tlen = 0;\n\n\t\tif (s !== undefined) {\n\t\t\tfor (i = 0; i < s.length; i += 1) {\n\t\t\t\tcode = s.charCodeAt(i);\n\t\t\t\tif (code <= 0x7f) {\n\t\t\t\t\tlen += 1;\n\t\t\t\t} else if (code <= 0x7ff) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else if (code >= 0xd800 && code <= 0xdfff) {\n\t\t\t\t\t// Surrogate pair: These take 4 bytes in UTF-8 and 2 chars in UCS-2\n\t\t\t\t\t// (Assume next char is the other [valid] half and just skip it)\n\t\t\t\t\tlen += 4;\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (code < 0xffff) {\n\t\t\t\t\tlen += 3;\n\t\t\t\t} else {\n\t\t\t\t\tlen += 4;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn len;\n\t};\n\n\n\t/*\n\t * set field value based on URL\n\t * mainly used to set asset id NetSuite and SalesForce\n\t * also used to set Company Size Range\n\t * can be used to set any field by update the fieldValuesByPath\n\t */\n\tqualysMarketo.updateFormValueMapping = function (formValues, mappingKey) {\n\n\t\tvar values, key;\n\n\t\tif (mappingKey !== null) {\n\n\t\t\tvalues = formValueMapping[mappingKey];\n\n\t\t\tif (!values) {\n\n\t\t\t\t//console.log(\"No asset ID defined for this URL.\");\n\n\t\t\t} else {\n\n\t\t\t\t// loop over values and set matching keys in form values\n\t\t\t\tfor (key in values) {\n\t\t\t\t\tif (values.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (values[key] && formValues.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tformValues[key] = values[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn formValues;\n\n\t};\n\n\t/*\n\t * account for special case on the trial form\n\t * like Do you have a Qualys account?\n\t * like Select a Qualys Trial package:\n\t * Are you a Security Consultant?\n\t */\n\tqualysMarketo.handleTrialForm = function (formValues) {\n\n\t\tvar hasQualysAccount;\n\n\t\thasQualysAccount = $(\"input[name=\\\"qualysAccount\\\"]:checked\").val();\n\n\t\t// if the visitor has a qualys account\n\t\tif (hasQualysAccount && hasQualysAccount.match(/Yes/i)) {\n\n\t\t\t// then set the form values as if they had chosen Express\n\t\t\tformValues = qualysMarketo.updateFormValueMapping(\n\t\t\t\tformValues,\n\t\t\t\t\"Express\"\n\t\t\t);\n\n\t\t} else {\n\t\t\t// otherwise...\n\t\t\t// if a package has been chosen\n\t\t\tif (formValues.formTrialPackageType) {\n\t\t\t\t// then update the form values by package type\n\t\t\t\tformValues = qualysMarketo.updateFormValueMapping(\n\t\t\t\t\tformValues,\n\t\t\t\t\tformValues.formTrialPackageType\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn formValues;\n\n\t};\n\n\t// set user's country and state based on ip address\n\t// this code reasonably assumes that geoip gets loaded from GTM which runs before marketo.js\n\tqualysMarketo.setLocation = function (form) {\n\t\tvar country, state, postalCode, city, companyFromIp;\n\t\tstate = \"\";\n\t\tpostalCode = \"\";\n\t\tcity = \"\";\n\t\tcompanyFromIp = \"\";\n\n\t\tsetLocationCalled = true; // to prevent infinite call loop\n\n\t\tfunction submitForm(form) {\n\t\t\tform.submitable(true);\n\t\t\tform.submit();\n\t\t}\n\n\t\tfunction updateLocation() {\n\t\t\tform.getFormElem().find(\"[name=City]\").val(city);\n\t\t\tform.getFormElem().find(\"[name=formIPCity]\").val(city);\n\t\t\tform.getFormElem().find(\"[name=State]\").val(state);\n\t\t\tform.getFormElem().find(\"[name=formIPState]\").val(state);\n\t\t\tform.getFormElem().find(\"[name=PostalCode]\").val(postalCode);\n\t\t\tform.getFormElem().find(\"[name=formIPPostalCode]\").val(postalCode);\n\t\t\tform.getFormElem().find(\"[name=Country]\").val(country);\n\t\t\tform.getFormElem().find(\"[name=formIPCountry]\").val(country);\n\t\t\tform.getFormElem().find(\"[name=companyfromIP]\").val(companyFromIp);\n\t\t\tform.getFormElem().find(\"[name=formIPCompanyname]\").val(companyFromIp);\n\t\t\t$(document).trigger(\"location-data-loaded\");\n\t\t}\n\n\t\t// if geoip2 call is successful\n\t\tfunction onSuccess (data) {\n\t\t\tif (data && data.traits && data.traits.ip_address) {\n\t\t\t\t// save location data in local storage\n\t\t\t\tvar key = \"maxmind.geoip2.data.\" + data.traits.ip_address;\n\t\t\t\tlocalStorage.setItem(key, JSON.stringify(data));\n\n\t\t\t\t// get state\n\t\t\t\tstate = data.subdivisions[0].iso_code;\n\t\t\t\tcity = data.city.names.en;\n\t\t\t\tpostalCode = data.postal.code;\n\t\t\t\tcompanyFromIp = data.traits.organization;\n\t\t\t\tupdateLocation();\n\t\t\t\tsubmitForm(form);\n\t\t\t}\n\t\t}\n\n\t\t// if geoip2 call return error\n\t\tfunction onError (error) {\n\t\t\t// show error in console\n\t\t\t/* eslint-disable no-console */\n\t\t\tconsole.log(error.code + \": \" + error.error);\n\t\t\tsubmitForm(form);\n\t\t\t/* eslint-enable no-console */\n\t\t}\n\n\t\t// only run this code on forms that contain hidden Country field\n\t\tif ($(\"[type=hidden][name=Country]\").length > 0) {\n\t\t\t// get ip address from session storage\n\t\t\tvar ip = sessionStorage.getItem(\"ipify.ip\", ip);\n\n\t\t\t// if ip address exists in session storage\n\t\t\tif (ip) {\n\t\t\t\t// get location data from local storage\n\t\t\t\tvar key = \"maxmind.geoip2.data.\" + ip;\n\t\t\t\tvar data = localStorage.getItem(key);\n\n\t\t\t\tif (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t// get country\n\t\t\t\t\tcountry = data.country.names.en;\n\t\t\t\t\tupdateLocation();\n\n\t\t\t\t\t// if country is US or Canada\n\t\t\t\t\tif (country === \"United States\" || country === \"Canada\") {\n\t\t\t\t\t\t// if subdivision (state) data exists\n\t\t\t\t\t\tif (data.subdivisions) {\n\t\t\t\t\t\t\t// get state\n\t\t\t\t\t\t\tstate = data.subdivisions[0].iso_code;\n\t\t\t\t\t\t\tcity = data.city.names.en;\n\t\t\t\t\t\t\tpostalCode = data.postal.code;\n\t\t\t\t\t\t\tcompanyFromIp = data.traits.organization;\n\t\t\t\t\t\t\tupdateLocation();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// otherwise, call GeoIP city API to get state data\n\t\t\t\t\t\t\tif (window.geoip2) {\n\t\t\t\t\t\t\t\t// prevent form submission\n\t\t\t\t\t\t\t\tform.submitable(false);\n\t\t\t\t\t\t\t\twindow.geoip2.city(onSuccess, onError);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// all other countries\n\t\t\t\t\t\tupdateLocation();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// change field values based on Qualys policies\n\tqualysMarketo.alterFormValues = function (form) {\n\t\tvar formId, formValues, isProductionFormId;\n\n\t\tformId = form.getId();\n\t\tformValues = form.getValues();\n\n\t\t// update form values based on pathname\n\t\tformValues = window.qualys.marketo.updateFormValueMapping(formValues, window.location.pathname);\n\n\t\t// if marketing asset ID is specified in form tag, use it\n\t\t// this is used on Brightedge pages, e.g. /content/* or /offers/*\n\t\tvar assetId = form.getFormElem().attr(\"data-asset-id\");\n\n\t\tif (assetId) {\n\t\t\tformValues[\"Marketing_Asset_Id_Current__c\"] = assetId;\n\t\t}\n\n\t\t// get all data-input-* form attributes and update corresponding hidden form fields\n\t\t$(\"[id^=mktoForm]\").each(function(index, element) {\n\t\t\t$.each(element.attributes,function(index,attribute) {\n\t\t\t\tif (attribute.name.indexOf(\"data-input\") >= 0) {\n\n\t\t\t\t\tvar fieldName = attribute.name.replace(\"data-input-\", \"\");\n\n\t\t\t\t\tfor (var key in formValues) {\n\t\t\t\t\t\tif (key.toLowerCase() === fieldName.toLowerCase()) {\n\t\t\t\t\t\t\tformValues[key] = attribute.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Limit the number of characters in the Phone field to 15\n\t\t$(\"[id=Phone]\").attr(\"maxlength\", \"15\");\n\n\t\t// hide all hidden form fields so they don't occupy any screen space\n\t\t$(\"[type=hidden]\").each(function(index, element) {\n\t\t\t$(element).parent(\".mktoFormRow\").addClass(\"hidden\");\n\t\t});\n\n\t\t// handle trial style forms\n\t\t// 1798 = generic free trial\n\t\t// 1815 = generic free trial (french)\n\t\t// 1816 = generic free trial (german)\n\t\t// 2486 = federal / gov\n\t\t// 2632 = container security, azure stack\n\t\t// 2399 = free trial form for Brightedge page under /offer/\n\t\t// TODO: simplify this list of OR conditions\n\t\tisProductionFormId = (formId === 1798 || formId === 1815 || formId === 1816 || formId === 2486 || formId === 2632 || formId === 2399 || formId === 3193);\n\n\t\tif (isProductionFormId) {\n\t\t\t// update trial form values\n\t\t\tformValues = window.qualys.marketo.handleTrialForm(formValues);\n\t\t}\n\n\t\t// handle forms that set asset ID based on company size range\n\t\tvar assetIdFromCompanySize = form.getFormElem().attr(\"data-input-assetIdFromCompanySize\");\n\n\t\tif (assetIdFromCompanySize) {\n\t\t\t// update form values\n\t\t\tvar companySizeRange = form.getFormElem().find(\"[name=Company_Size_Range__c_account]\").val();\n\t\t\tformValues = window.qualys.marketo.updateFormValueMapping(formValues, companySizeRange);\n\t\t}\n\n\t\t// update form with user's platform\n\t\tformValues = window.qualys.marketo.getPlatform(formValues);\n\n\t\tform.setValues(formValues);\n\t\t$(document).trigger(\"alterFormValuesComplete\");\n\t};\n\n\t// display warning to encourage users to enter company email address\n\tqualysMarketo.showCompanyEmailWarning = function (mktoFormId) {\n\t\t// function to check and show the email domain warning\n\t\tfunction checkEmailDomain() {\n\t\t\t$(\"div.mktoError.warning.email\").remove();\n\n\t\t\tvar emailAddress, emailDomainPart;\n\t\t\temailAddress = $(\"#Email\").val();\n\t\t\temailDomainPart = emailAddress.split(\"@\")[1];\n\t\t\tif ($.inArray(emailDomainPart, blacklistedEmailDomains) !== -1) {\n\t\t\t\t$(\"#Email\").after(warningFieldMsg);\n\t\t\t}\n\t\t}\n\n\t\tvar checkEmailField = false;\n\n\t\t// check email domain on all non-whitepaper forms\n\t\tif ($.inArray(mktoFormId,[\"1806\",\"1807\",\"1808\",\"1874\",\"1643\",\"1625\",\"1611\",\"1803\"]) === -1) {\n\t\t\tcheckEmailField = true;\n\n\t\t\t// however, if form is in /lp/ folder, don't check email domain\n\t\t\tif (window.location.pathname.indexOf(\"/lp/\") !== -1) {\n\t\t\t\tcheckEmailField = false;\n\t\t\t}\n\n\t\t\t// also, if form is a FreeScan form and the country is not US or UK or \"\", don't check email domain\n\t\t\tif (window.location.pathname.indexOf(\"/forms/freescan/\") !== -1) {\n\t\t\t\tvar country = $(\"#Country\").val();\n\n\t\t\t\tif (country !== \"\" && country !== \"United States\" && country !== \"United Kingdom (GB)\") {\n\t\t\t\t\tcheckEmailField = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (checkEmailField) {\n\t\t\tvar deCheckEmailDomain, warningFieldMsg;\n\n\t\t\t// save HTML of warning message\n\t\t\twarningFieldMsg = \"\\\n\t\t\t<div class=\\\"mktoError warning email\\\">\\\n\t\t\t<div class=\\\"mktoErrorArrowWrap\\\">\\\n\t\t\t<div class=\\\"mktoErrorArrow\\\"></div>\\\n\t\t\t</div>\\\n\t\t\t<div class=\\\"mktoErrorMsg\\\">Company email preferred. <a class=\\\"close-button\\\">Dismiss</a></div>\\\n\t\t\t</div>\";\n\n\t\t\t// remove the email domain warning when user clicks X\n\t\t\t$(document).on(\"click\", \"div.mktoError.email .close-button\", function () {\n\t\t\t\t$(\"div.mktoError.warning.email\").remove();\n\t\t\t});\n\n\t\t\t// debounce the checking and showing of the email domain warning messages\n\t\t\tdeCheckEmailDomain = _.debounce(checkEmailDomain, 250);\n\n\t\t\t// check and show the email domain warning on blur\n\t\t\t$(\"#Email\").on(\"blur\", function () {\n\t\t\t\tcheckEmailDomain();\n\t\t\t});\n\n\t\t\t// on each key stroke, check and conditionally show the email domain warning message\n\t\t\t$(\"#Email\").on(\"keypress\", deCheckEmailDomain);\n\n\t\t\t$(\"#Country\").on(\"change\", function () {\n\t\t\t\t$(\"div.mktoError.warning.email\").remove();\n\t\t\t\twindow.qualys.marketo.showCompanyEmailWarning();\n\t\t\t});\n\t\t}\n\t};\n\n\t// cleanup HTML and CSS from Marketo\n\tqualysMarketo.cleanMarketoHTMLAndCSS = function () {\n\n\t\t// remove Marketo CSS\n\t\t$(\"link[rel=\\\"stylesheet\\\"]\").each(function (index, item) {\n\n\t\t\tif ($(item).attr(\"href\").match(/(lps\\.qualys|\\.marketo)\\.com\\/.*\\.css$/)) {\n\n\t\t\t\t$(item).remove();\n\n\t\t\t}\n\n\t\t});\n\n\t\t// remove style tag inside Marketo forms\n\t\t$(\".mktoForm style\").remove();\n\n\t\t// remove inline style from Marketo elements\n\t\t$(\".mktoForm, .mktoForm *\").each(function (index, item) {\n\n\t\t\t$(item).attr(\"style\", null);\n\n\t\t});\n\n\t\t// add unique class to each form row container\n\t\t$(\".mktoField\").each(function (index, item) {\n\t\t\tvar name = $(item).attr(\"name\");\n\t\t\t$(item).parents(\".mktoFormRow\").addClass(name);\n\t\t});\n\n\t\t// put checkboxes and radio buttons inside their labels\n\t\t$(\".mktoCheckboxList input, .mktoRadioList input\").each(function (index, item) {\n\n\t\t\tvar label, name;\n\n\t\t\tlabel = $(item).parents().find(\"label[for=\\\"\" + item.id + \"\\\"]\").get(0);\n\n\t\t\tname = $(item).attr(\"name\");\n\t\t\t$(item).parent(\".mktoRadioList\").addClass(name);\n\t\t\t$(item).parent(\".mktoCheckboxList\").addClass(name);\n\n\t\t\tif (label) {\n\t\t\t\t$(label).prepend(item);\n\t\t\t\t$(label).attr(\"for\", null);\n\t\t\t}\n\n\t\t});\n\n\t\t// remove all Marketo asterix\n\t\t$(\".mktoAsterix\").remove();\n\n\t\t// add class to empty Marketo lables\n\t\t$(\".mktoLabel:empty\").addClass(\"qmktoLabelEmpty\");\n\n\t\t// add class to labels for checkbox lists and radio button lists\n\t\t$(\".mktoCheckboxList\").siblings(\".mktoLabel\").addClass(\"qmktoCheckboxListLabel\");\n\t\t$(\".mktoRadioList\").siblings(\".mktoLabel\").addClass(\"qmktoRadioListLabel\");\n\n\t\t$(document).trigger(\"cleanMarketoHTMLAndCSSComplete\");\n\t};\n\n\n\t// embed Marketo form in HTML page\n\tqualysMarketo.embedForm = function () {\n\t\tvar $form, formId, mktoFormId, baseUrl, munchkinId;\n\n\t\t// if data-load-form-in-page attribute is not found, load Marketo form below\n\t\t// otherwise, form is being loaded in page (in the HTML)\n\t\t// the following conditional block is needed to support Marketo forms in BridgeEdge pages\n\t\t// qualys.com/offer, qualys.com/content\n\t\t// which don't use the form.hbs partial\n\t\tif ($(\"[data-load-form-in-page]\").length === 0) {\n\t\t\t$form = $(\"form[id^='mktoForm']\");\n\n\t\t\tif ($form.length > 0) {\n\t\t\t\tformId = $form.get()[0].id;\n\t\t\t\tmktoFormId = parseInt(formId.replace(\"mktoForm_\", \"\"), 10);\n\t\t\t\tif (isNaN(mktoFormId)) {\n\t\t\t\t\tthrow new Error(\"Marketo form ID not found!\");\n\t\t\t\t}\n\t\t\t\tmktoFormId = mktoFormId.toString();\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Marketo form not found!\");\n\t\t\t}\n\n\t\t\tbaseUrl = $form.attr(\"data-baseurl\");\n\t\t\tmunchkinId = $form.attr(\"data-munchkinid\");\n\n\t\t\tif (!baseUrl) {\n\t\t\t\tbaseUrl = \"//lps.qualys.com\";\n\t\t\t}\n\n\t\t\tif (!munchkinId) {\n\t\t\t\tmunchkinId = \"797-ENI-742\";\n\t\t\t}\n\n\t\t\tMktoForms2.loadForm(baseUrl, munchkinId, mktoFormId);\n\t\t}\n\n\t\tMktoForms2.whenReady(function (form) {\n\t\t\t// remove CSS injected by Marketo Sandbox\n\t\t\tsetTimeout(function(){\n\t\t\t\t$('link[rel=stylesheet][id~=\"mktoForms2BaseStyle\"]').remove();\n\t\t\t\t$('link[rel=stylesheet][id~=\"mktoForms2ThemeStyle\"]').remove();\n\t\t\t}, 0);\n\n\t\t\twindow.qualys.marketo.alterFormValues(form);\n\t\t\tqualysMarketo.warnBeforeLeaving(form);\n\t\t\tqualysMarketo.loadZoomInfo(form);\n\n\t\t\tform.onValidate(function (builtInMarketoValidation) {\n\t\t\t\twindow.qualys.marketo.alterFormValues(form);\n\n\t\t\t\tvar customValidation = window.qualys.marketo.basicValidation(form);\n\t\t\t\tconsole.log(\"builtInMarketoValidation = \" + builtInMarketoValidation);\n\t\t\t\tconsole.log(\"customValidation = \" + customValidation);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * when the form is submitted, change the asset ID\n\t\t\t */\n\t\t\tvar formMappings = {\n\t\t\t\t2470: { path: \"/forms/vmdr/\", campaignId: 2839550 },\n\t\t\t\t1798: { path: \"/free-trial/\", campaignId: 2850447 },\n\t\t\t\t3784: { path: \"/forms/vmdr-trurisk/\", campaignId: 2851639 }\n\t\t\t};\n\t\t\tform.onSubmit(function (form) {\n\t\t\t\twindow.qualys.marketo.alterFormValues(form);\n\n\t\t\t\tvar mktoFormId = form.getId();\n\t\t\t\tvar locationPath = window.location.pathname;\n\n\t\t\t\tfor (var id in formMappings) {\n\t\t\t\t\tif (mktoFormId == id && locationPath.indexOf(formMappings[id].path) !== -1) {\n\t\t\t\t\t\tdrift.api.collectFormData(form.getValues(), {\n\t\t\t\t\t\t\tcampaignId: formMappings[id].campaignId,\n\t\t\t\t\t\t\tfollowupUrl: 'confirm/'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar formsWithoutCountryAndState = [1801, 2760];\n\t\t\t\tvar isFormWithoutCountryAndState = formsWithoutCountryAndState.includes(mktoFormId);\n\t\t\t\t\n\t\t\t\t// for forms that don't have visible country and state fields\n\t\t\t\tif (isFormWithoutCountryAndState && !setLocationCalled) {\n\t\t\t\t\t// set hidden country and state fields\n\t\t\t\t\t// form submission will resume after fields have been updated\n\t\t\t\t\twindow.qualys.marketo.setLocation(form);\n\t\t\t\t}\n\n\t\t\t\t// remove button label\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tform.getFormElem().find(\"[type=submit][disabled]\").each(function (index, button) {\n\t\t\t\t\t\tbutton.innerText = \"\";\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\n\n\t\t\t\t// DEBUG: Uncomment the following lines to view form data and block form submission\n\t\t\t\t/*\n\t\t\t\tform.submitable(false);\n\t\t\t\tconsole.log(JSON.parse(JSON.stringify(form.getValues())));\n\t\t\t\t$(document).on(\"location-data-loaded\", function () {\n\t\t\t\t\tconsole.log(JSON.parse(JSON.stringify(form.getValues())));\n\t\t\t\t});\n\t\t\t\t*/\n\t\t\t});\n\n\t\t\tform.onSuccess(function () {\n\t\t\t\t// inform visitors of success (and Pingdom monitoring)\n\t\t\t\tform.getFormElem().find(\"[type=submit]\").each(function (index, button) {\n\t\t\t\t\t$(button).addClass(\"success\");\n\t\t\t\t\tbutton.innerText = \"Success\";\n\t\t\t\t});\n\n\t\t\t\tvar mktoFormId = form.getId();\n\t\t\t\tvar driftIntegratedPaths = Object.values(formMappings).map((obj) => obj.path);\n\t\t\t\tvar isDriftIntegrated = driftIntegratedPaths.some((path) => window.location.pathname.indexOf(path) !== -1);\n\t\t\t\t\n\t\t\t\tif (mktoFormId === 2878) { // for QSC registration form, redirect to confirm page based on user-selected location\n\t\t\t\t\tvar location = form.getFormElem().find(\"[name=Event_Location] option:selected\").val();\n\t\t\t\t\twindow.location = window.location.pathname + location.replace(\" \", \"-\") + \"/confirm/\";\n\t\t\t\t} else { // for all other forms\n\t\t\t\t\tif (mktoFormId === 2760 && self !== top) {\n\t\t\t\t\t\t// For ITAM form in iframe, redirect to parent confirm page\n\t\t\t\t\t\twindow.top.location = window.top.location.pathname + \"confirm\";\n\t\t\t\t\t} else if (mktoFormId === 4044 || mktoFormId === 4253 || mktoFormId == 4286 || mktoFormId == 4133) {\n\t\t\t\t\t\t// let local script handle success event \n\t\t\t\t\t\tconsole.log(\"a\");\n\t\t\t\t\t\t// /vmdr-health-check/index.js\n\t\t\t\t\t} else if (isDriftIntegrated) {\n\t\t\t\t\t\t// let Drift Fastlane handle the redirect \n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// get form's confirmation URL from data-confirm attribute\n\t\t\t\t\t\tvar confirmUrl = form.getFormElem().attr(\"data-confirm\");\n\n\t\t\t\t\t\t// wait a moment before redirecting to allow GTM tags to fire\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tif (confirmUrl !== undefined && confirmUrl !== \"\") {\n\t\t\t\t\t\t\t\twindow.location = confirmUrl;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar search = window.location.search;\n\n\t\t\t\t\t\t\t\t// Take the lead to a different page on successful submit, ignoring the form's configured followUpUrl.\n\t\t\t\t\t\t\t\twindow.location = window.location.pathname + \"confirm/\" + search;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// return false to prevent the submission handler continuing with its own processing\n\t\t\t\treturn false;\n\t\t\t});\n\t\t});\n\n\t\tMktoForms2.whenRendered(function (form) {\n\t\t\tvar mktoFormId = form.getId();\n\t\t\tif (zoomInfoMatchResult !== undefined) {\n\t\t\t\tqualysMarketo.mapZoomInfoFields(form);\n\t\t\t}\n\n\t\t\tif ($(\"#Title\").length > 0) {\n\t\t\t\tif (window.qualys.loadJobTitles) {\n\t\t\t\t\twindow.qualys.loadJobTitles(window.qualys.getLanguage());\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"job-title-auto-complete.js is probably missing\");\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.qualys.marketo.setup(form);\n\t\t\twindow.qualys.marketo.cleanMarketoHTMLAndCSS();\n\t\t\twindow.qualys.marketo.filterFields();\n\n\t\t\t// function to add class \"invalid\" or \"valid\" if form field is invalid or valid\n\t\t\tfunction addValidInvalidClassToFormRows() {\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t$(\".mktoFormRow\").removeClass(\"invalid valid\");\n\t\t\t\t\t$(\".mktoFormRow\").each(function (index, element) {\n\t\t\t\t\t\tif ($(element).find(\".mktoError\").length !== 0 && $(element).find(\".mktoError\").css(\"display\") !== \"none\") {\n\t\t\t\t\t\t\t$(element).addClass(\"invalid\");\n\t\t\t\t\t\t} else if ($(element).find(\".mktoValid\").length !== 0) {\n\t\t\t\t\t\t\t$(element).addClass(\"valid\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 100);\n\t\t\t}\n\n\t\t\t// call function when any form input blurs or is clicked on\n\t\t\tform.getFormElem().find(\":input, select\").on(\"blur, click\", addValidInvalidClassToFormRows);\n\n\t\t\t// call function when user hits tab key\n\t\t\t$(document).on('keyup', function( e ) {\n\t\t\t\tif( e.which == 9 ) {\n\t\t\t\t\taddValidInvalidClassToFormRows();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// if trial checkbox exists, move it to above submit button\n\t\t\t$(\"[for=\\\"requestedaTrial\\\"]\").parents(\".mktoFormRow\").detach().insertBefore(\"div.mktoButtonRow\");\n\n\t\t\t// window.qualys.marketo.showCompanyEmailWarning(mktoFormId);\n\n\t\t\t// if communication consent checkbox exists, move it to above submit button on non 2-panel forms\n\t\t\tif ($(\"form .panel2\").length === 0) {\n\t\t\t\t$(\"[for=\\\"communicationConsent\\\"]\").parents(\".mktoFormRow\").detach().insertBefore(\"div.mktoButtonRow\");\n\t\t\t}\n\n\t\t\t// if user checks the communication consent checkbox, set the communicationConsentDateTime hidden field\n\t\t\t$(document).on(\"change\", \"[name=communicationConsent]\", function () {\n\t\t\t\tif ($(\"[name=communicationConsent]:checked\").length > 0) {\n\t\t\t\t\tvar timestamp = (new Date()).toISOString();\n\t\t\t\t\tform.getFormElem().find(\"[name=communicationConsentDateTime]\").val(timestamp);\n\t\t\t\t} else {\n\t\t\t\t\tform.getFormElem().find(\"[name=communicationConsentDateTime]\").val(\"null\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ($.inArray(mktoFormId,[2275,2403,2747,2612,2878]) !== -1) { // for QSC registration form\n\t\t\t\twindow.qualys.marketo.preselectLocation(MktoForms2);\n\t\t\t\twindow.qualys.marketo.addQscLocationField(MktoForms2);\n\t\t\t}\n\n\t\t\t// gray out certain locations and move them to bottom of options list\n\t\t\tif(mktoFormId !== 2612) {\n\t\t\t\t/*$(\"option[value=\\\"dubai\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");\n\t\t\t\t$(\"option[value=\\\"mumbai\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");*/\n\t\t\t\t$(\"option[value=\\\"san-francisco\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");\n\t\t\t\t$(\"option[value=\\\"paris\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");\n\t\t\t\t$(\"option[value=\\\"munich\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");\n\t\t\t\t$(\"option[value=\\\"berlin\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");\n\t\t\t\t$(\"option[value=\\\"london\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");\n\t\t\t\t$(\"option[value=\\\"vegas\\\"]\").attr(\"disabled\", \"disabled\").detach().appendTo(\"#Event_Location\");\n\t\t\t}\n\n\t\t\t// handle radiobuttons by adding a checked class to the parent label\n\t\t\t$(\"input[type=\\\"radio\\\"]\").on(\"change\", function (event) {\n\n\t\t\t\tvar name = $(event.currentTarget).attr(\"name\");\n\t\t\t\t$(\".mktoRadioList.\" + name + \" label.checked\").removeClass(\"checked\");\n\t\t\t\t$(event.currentTarget).parent(\"label\").addClass(\"checked\");\n\n\t\t\t});\n\n\t\t\t// wrap fields in divs to style form in 2 columns\n\t\t\tif (window.location.pathname === \"/apps/vulnerability-management-detection-response/mobile-devices/\") {\n\t\t\t\t$(document).on(\"alterFormValuesComplete\", function () {\n\t\t\t\t\tif ($(\".fieldsWrapper\").length === 0) {\n\t\t\t\t\t\t$(\".mktoFormRow.qualysAccount, \\\n\t\t\t\t\t\t\t.mktoFormRow.Number_of_Mobile_Devices__c\").wrapAll('<div class=\"fieldsWrapperTop\" />');\n\t\t\t\t\t\t$(\".mktoFormRow.FirstName, \\\n\t\t\t\t\t\t\t.mktoFormRow.LastName, \\\n\t\t\t\t\t\t\t.mktoFormRow.Email, \\\n\t\t\t\t\t\t\t.mktoFormRow.Company\").wrapAll('<div class=\"fieldsWrapperLeft\" />');\n\t\t\t\t\t\t$(\".mktoFormRow.Title, \\\n\t\t\t\t\t\t\t.mktoFormRow.Phone, \\\n\t\t\t\t\t\t\t.mktoFormRow.Country, \\\n\t\t\t\t\t\t\t.mktoFormRow.Company_Size_Range__c_account\").wrapAll('<div class=\"fieldsWrapperRight\" />');\n\t\t\t\t\t\t$(\".fieldsWrapperLeft, \\\n\t\t\t\t\t\t\t.fieldsWrapperRight\").wrapAll('<div class=\"fieldsWrapper\" />');\n\n\t\t\t\t\t\t// on mobile (viewport < 720), initially hide some fields\n\t\t\t\t\t\tif (window.innerWidth < 720) {\n\t\t\t\t\t\t\t$(\".fieldsWrapper\").addClass(\"hidden\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$(\"[name='qualysAccount']\").on(\"click\", function () {\n\n\t\t\t\t\tvar haveAccount = $(this).val();\n\n\t\t\t\t\t// add a class to adjust alignment of username and # mobiles fields\n\n\t\t\t\t\tif (haveAccount === \"yes\") {\n\t\t\t\t\t\t$(\".mktoForm\").addClass(\"hasAccount\");\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$(\".mktoForm\").removeClass(\"hasAccount\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// on mobile (viewport < 720), show and hide some fields\n\n\t\t\t\t\tif (window.innerWidth < 720) {\n\t\t\t\t\t\t// var haveAccount = $(this).val();\n\t\t\t\t\t\tif (haveAccount === \"no\") {\n\t\t\t\t\t\t\t$(\".fieldsWrapper\").removeClass(\"hidden\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// handle checkboxes by adding a checked class to the parent label\n\t\t\t$(\"input[type=\\\"checkbox\\\"]:not(.q-bound)\").on(\"change\", function (event) {\n\n\t\t\t\tvar id = $(event.currentTarget).attr(\"id\");\n\t\t\t\tvar $element = $(\"#\" + id).parents(\"label\");\n\n\t\t\t\tif ($element.hasClass(\"checked\")) {\n\t\t\t\t\t$element.removeClass(\"checked\");\n\t\t\t\t} else {\n\t\t\t\t\t$element.addClass(\"checked\");\n\t\t\t\t}\n\n\t\t\t}).addClass(\"q-bound\");\n\n\t\t\t// add Quantcast order id\n\t\t\twindow.qualys.marketo.addQuantcastOrderId(form);\n\n\t\t\t// add GTM-loaded value to form\n\t\t\twindow.qualys.marketo.addGtmLoadedValue(form);\n\n\t\t\t// add black listed country value to form\n\t\t\twindow.qualys.marketo.addBlackListedValue(form);\n\n\t\t\t// add DNT cookie value to form\n\t\t\twindow.qualys.marketo.addDntCookieValue(form);\n\n\t\t\t// auto fill-up form for leadsource with x\n\t\t\twindow.qualys.marketo.autoFillupForm(form);\n\n\t\t\t// initialize overlays in Marketo forms\n\t\t\t//window.qualys.overlay.setup();\n\n\t\t\t// re-enable submit button if job title is not student,\n\t\t\t// this is for if submit button was disabled due to job title = student and asset ID = 308 (consultant edition)\n\n\t\t\tvar values = form.getValues();\n\t\t\tvar $submitButton = form.getFormElem().find(\"[type='submit'].mktoButton\");\n\n\t\t\tform.getFormElem().find(\"#Title\").on(\"blur\", function () {\n\t\t\t\tvar jobTitle;\n\n\t\t\t\tjobTitle = values[\"Title\"];\n\n\t\t\t\tif (jobTitle.toLowerCase() !== \"student\" ) {\n\t\t\t\t\t$submitButton.removeClass(\"disabled\");\n\t\t\t\t}\n\t\t\t});\n\t\t\tform.getFormElem().find(\".mktoRadioList.formTrialPackageType\").on(\"change\", function () {\n\t\t\t\twindow.qualys.marketo.alterFormValues(form);\n\t\t\t\tvar Marketing_Asset_Id_Current__c;\n\n\t\t\t\tMarketing_Asset_Id_Current__c = values[\"Marketing_Asset_Id_Current__c\"];\n\n\t\t\t\tif (Marketing_Asset_Id_Current__c !== \"308\") {\n\t\t\t\t\t$submitButton.removeClass(\"disabled\");\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\n\t/*\n\t * pre-fill Marketo form fields\n\t * http://developers.marketo.com/blog/external-page-prefill/\n\t */\n\tqualysMarketo.prefillMarketoForm = function () {\n\n\t\t// only call the proxy if the Marketo tracking cookie is present\n\t\tif (document.cookie.match(/_mkto_trk=/)) {\n\t\t\t// call proxy PHP script and get lead data to pre-fill Marketo form\n\t\t\tlet prefix = \"\";\n\t\t\tlet hostnames = [\"lps.qualys.com\", \"www.ssllabs.com\", \"dev.ssllabs.com\"];\n\n\t\t\tif (hostnames.indexOf(window.location.hostname) !== -1) {\n\t\t\t\tprefix = \"https://www.qualys.com\";\n\t\t\t}\n\n\t\t\tlet url = prefix + \"/marketo/get-lead-by-cookie.php\";\n\n\t\t\t$.ajax({\n\t\t\t\turl: url,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tsuccess: function (data) {\n\n\t\t\t\t\tvar lead;\n\n\t\t\t\t\t// check if Marketo says the request was successful\n\t\t\t\t\tif (data.success) {\n\n\t\t\t\t\t\t// check if there is a result\n\t\t\t\t\t\tif (data.result.length > 0 && data.result[0]) {\n\n\t\t\t\t\t\t\tlead = data.result[0];\n\t\t\t\t\t\t\tMktoForms2.whenReady(function (form) {\n\n\t\t\t\t\t\t\t\tvar formId = form.getId();\n\n\t\t\t\t\t\t\t\t// only prefill forms other than event registration forms\n\t\t\t\t\t\t\t\tif ($.inArray(formId,[2747]) === -1) {\n\n\t\t\t\t\t\t\t\t\tvar values;\n\n\t\t\t\t\t\t\t\t\t// map the results from the REST call to the corresponding field name on the form\n\t\t\t\t\t\t\t\t\t// because some field names need have their first letter uppercased to match the Marketo form field names\n\t\t\t\t\t\t\t\t\tvalues = Object.keys(lead).reduce(function (acc, v) {\n\n\t\t\t\t\t\t\t\t\t\tvar key;\n\n\t\t\t\t\t\t\t\t\t\tif (!v.match(/^(communicationConsentDateTime|communicationConsent|id|cookies|utm|[A-Z])/)) {\n\n\t\t\t\t\t\t\t\t\t\t\t// uppercase the first letter of some keys to match Marketo form field names\n\t\t\t\t\t\t\t\t\t\t\tkey = v.charAt(0).toUpperCase() + v.slice(1);\n\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\tkey = v;\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tacc[key] = lead[v];\n\n\t\t\t\t\t\t\t\t\t\treturn acc;\n\n\t\t\t\t\t\t\t\t\t}, {});\n\n\t\t\t\t\t\t\t\t\t// pass the new values into the form.vals method to fill the fields\n\t\t\t\t\t\t\t\t\t// Note, this method is recommend by Marketo\n\t\t\t\t\t\t\t\t\t// Note, it may override values the visitor has already typed in\n\t\t\t\t\t\t\t\t\tform.vals(values);\n\t\t\t\t\t\t\t\t\t$(\"form.mktoForm\").trigger(\"fieldsFilled\");\n\n\n\t\t\t\t\t\t\t\t\t// after prefill, if the communicationConsent checkbox is checked based on Marketo pre-fill, hide the checkbox field\n\t\t\t\t\t\t\t\t\tif ($(\"[name=communicationConsent]:checked\").length > 0) {\n\t\t\t\t\t\t\t\t\t\tform.getFormElem().find(\".mktoFormRow.communicationConsent\").addClass(\"hidden\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.errors.forEach(function (error) {\n\t\t\t\t\t\t\tthrow new Error(error.message);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tthrow new Error(`${errorThrown}: ${url}`);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}(window.qualys.marketo, jQuery, XRegExp, MktoForms2, _));\n\njQuery(document).ready(window.qualys.marketo.embedForm);\n\n// call this ASAP so the AJAX request gets fired off\n// will wait for Marketo Form Ready event\n// temporily disabled form prefill for 2 weeks\n// https://jira.intranet.qualys.com/browse/WEB-6796\n/*if (window.location.hostname !== \"lps.qualys.com\") {\n\twindow.qualys.marketo.prefillMarketoForm();\n}*/\n"],"mappings":"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"}