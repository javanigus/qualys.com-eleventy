{"version":3,"file":"jobvite-iframe.js","names":["win","renderLink","link","document","createElement","innerHTML","href","src","el","appendChild","getPath","search","page","pathParts","param","prop","propValue","i","parts","substr","split","defaultPage","len","length","extra","path","decodeURIComponent","push","optionMap","hasOwnProperty","getAttribute","decodeURI","match","join","shouldRedirect","forceRedirect","noRedirect","indexOf","charAt","addEvent","obj","ev","fn","addEventListener","attachEvent","updateQueryStringParameter","queryString","key","value","regex","RegExp","separator","replace","baseUrl","\"data-category\"","\"data-department\"","\"data-location\"","\"data-region\"","\"data-subsidiary\"","\"data-type\"","querySelector","Jobvite","location","detectMobile","useragent","navigator","userAgent","firstChild","renderIframe","iframe","actions","frameBorder","style","width","className","name","removeChild","action_resize","data","height","action_navigate","encodeURIComponent","action_scrollToFrame","scrollIntoView","e","action","source","contentWindow","JSON","parse","err","warn","message","console","window"],"sources":["../../site/pages/careers/jobvite-iframe.js"],"sourcesContent":["/**\n * COPYRIGHT 2014 Jobvite, Inc. All rights reserved. This copyright notice is Copyright Management\n * Information under 17 USC 1202 and is included to protect this work and deter copyright infringement.\n * Removal or alteration of this Copyright Management Information without the express written permission\n * of Jobvite, Inc. is prohibited, and any such unauthorized removal or alteration will be a violation of\n * federal law.\n *\n * Usage:\n *\n * Place this element where you want the iframe to be rendered:\n * <div class=\"jv-careersite\" data-careersite=\"your-careersite-name\"></div>\n *\n * Place this script before the closing body tag:\n * <script src=\"https://jobs.jobvite.com/__assets__/scripts/careersite/public/iframe.js?v=01515558317\" integrity=\"sha384-NJUFKgyduqSua2X38VH634MrbXYaaQsodqFzzUnaDslWu0BjR+/rJ0As415VMaYX\" crossorigin=\"anonymous\"></script>\n *\n * Optional Attributes:\n *\n * - data-category: filter job list by category name\n * - data-department: filter job list by department name\n * - data-location: filter job list by location name\n * - data-region: filter job list by region name\n * - data-subsidiary: filter job list by subsidiary name\n * - data-type: filter job list by type name\n * - data-page: internal page to load, e.g. job/<jobId>/apply\n * - data-force-redirect: always redirect to mobile site when mobile browser is detected\n * - data-no-redirect: if on data-page, don't redirect to mobile site when mobile browser is detected\n *\n * Mobile Support:\n *\n * If a supported mobile browser is detected, the iframe will be replaced with a\n * link to your mobile site. To provide your own link, place it inside the div.\n * For example:\n *\n * <div class=\"jv-careersite\" data-careersite=\"your-careersite-name\">\n *     <a href=\"http://jobs.jobvite.com/your-careersite-name\">View our open jobs.</a>\n * </div>\n *\n */\n(function(win) {\n\n\tvar el, src, baseUrl, optionMap, path;\n\n\toptionMap = {\n\t\t\"data-category\": \"c\",\n\t\t\"data-department\": \"d\",\n\t\t\"data-location\": \"l\",\n\t\t\"data-region\": \"r\",\n\t\t\"data-subsidiary\": \"s\",\n\t\t\"data-type\": \"t\"\n\t};\n\n\tel = document.querySelector(\".jv-careersite\");\n\tif (!el) {\n\t\treturn;\n\t}\n\tif (!el.getAttribute(\"data-careersite\")) {\n\t\twarn(\"Jobvite: no careersite detected!\");\n\t\treturn;\n\t}\n\n\twin.Jobvite = win.Jobvite || {};\n\tbaseUrl = win.Jobvite.baseUrl || \"//jobs.jobvite.com\";\n\tpath = getPath(win.location.search, el.getAttribute(\"data-page\"));\n\tsrc = [\n\t\tbaseUrl,\n\t\tel.getAttribute(\"data-careersite\"),\n\t\tpath\n\t].join(\"/\");\n\n\tif (!detectMobile(win.navigator.userAgent)) {\n\t\trenderIframe();\n\t} else if (shouldRedirect()) {\n\t\twin.location.href = src;\n\t} else if (!el.firstChild) {\n\t\trenderLink();\n\t}\n\n\t// functions -------------------------------------------------------------------\n\n\tfunction renderLink() {\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.innerHTML = \"View Open Positions\";\n\t\tlink.href = src;\n\t\tel.appendChild(link);\n\t}\n\n\tfunction renderIframe() {\n\t\tvar iframe, actions;\n\t\tiframe = document.createElement(\"iframe\");\n\t\tiframe.frameBorder = 0;\n\t\tiframe.style.width = \"100%\";\n\t\tiframe.src = src;\n\t\tiframe.className = \"jv-careersite-iframe\";\n\t\tiframe.name = \"jobvite_careersite_iframe\";\n\n\t\twhile (el.firstChild) {\n\t\t\tel.removeChild(el.firstChild);\n\t\t}\n\t\tel.appendChild(iframe);\n\n\t\tactions = {\n\t\t\taction_resize: function(data) {\n\t\t\t\t// adding 25px to prevent iframe scrollbars from appearing\n\t\t\t\tiframe.style.height = (data.height + 25) + \"px\";\n\t\t\t},\n\t\t\taction_navigate: function(data) {\n\t\t\t\tif (data.href.match(/^(https?:)?\\/\\//)) {\n\t\t\t\t\twin.location = data.href;\n\t\t\t\t} else {\n\t\t\t\t\twin.location.search = updateQueryStringParameter(win.location.search, \"p\", encodeURIComponent(data.href));\n\t\t\t\t}\n\t\t\t},\n\t\t\taction_scrollToFrame: function() {\n\t\t\t\tiframe.scrollIntoView();\n\t\t\t}\n\t\t};\n\n\t\taddEvent(win, \"message\", function(e) {\n\t\t\tvar action;\n\t\t\tif (e.source !== iframe.contentWindow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\taction = JSON.parse(e.data);\n\t\t\t} catch (err) {\n\t\t\t\taction = {};\n\t\t\t}\n\t\t\tif (actions[\"action_\" + action.name]) {\n\t\t\t\tactions[\"action_\" + action.name](action.data);\n\t\t\t}\n\t\t}, false);\n\t}\n\n\tfunction getPath(search, page) {\n\t\tvar parts = (search ? search.substr(1).split(\"&\") : []),\n\t\t\tdefaultPage = \"\",\n\t\t\tlen = parts.length,\n\t\t\textra = [\"nl=1\"],\n\t\t\tpath = page || defaultPage,\n\t\t\tpathParts,\n\t\t\tparam,\n\t\t\tprop,\n\t\t\tpropValue,\n\t\t\ti;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tparam = parts[i].split(\"=\");\n\t\t\tif (param[0] === \"p\") {\n\t\t\t\tpathParts = decodeURIComponent(param[1]).split(\"?\");\n\t\t\t\tpath = pathParts[0];\n\t\t\t\tif (pathParts[1]) {\n\t\t\t\t\textra.push(pathParts[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\textra.push(parts[i]);\n\t\t\t}\n\t\t}\n\n\t\tfor (prop in optionMap) {\n\t\t\tif (optionMap.hasOwnProperty(prop)) {\n\t\t\t\tpropValue = el.getAttribute(prop);\n\t\t\t\tif (propValue) {\n\t\t\t\t\textra.push(optionMap[prop] + \"=\" + propValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (decodeURI(path).match(/\\.[\\s\\n\\r]*\\./)) {\n\t\t\tpath = defaultPage;\n\t\t}\n\n\t\treturn path + (extra.length ? \"?\" + extra.join(\"&\") : \"\");\n\t}\n\n\tfunction shouldRedirect() {\n\t\tvar forceRedirect = (el.getAttribute(\"data-force-redirect\") !== null);\n\t\tvar noRedirect = (el.getAttribute(\"data-no-redirect\") !== null);\n\t\tvar page = el.getAttribute(\"data-page\");\n\n\t\tif (forceRedirect) {\n\t\t\treturn true;\n\t\t}\n\t\tif (noRedirect && page && path.indexOf(page) === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (path.charAt(0) !== \"?\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction addEvent(obj, ev, fn) {\n\t\tif (obj.addEventListener) {\n\t\t\tobj.addEventListener(ev, fn, false);\n\t\t\treturn true;\n\t\t} else if (obj.attachEvent) {\n\t\t\treturn obj.attachEvent(\"on\" + ev, fn);\n\t\t}\n\t}\n\n\tfunction warn(message) {\n\t\tif (typeof console !== \"undefined\" && console !== null) {\n\t\t\tif (typeof console.warn === \"function\") {\n\t\t\t\tconsole.warn(message);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction updateQueryStringParameter(queryString, key, value) {\n\t\tvar regex = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n\t\tvar separator = (queryString.indexOf(\"?\") !== -1) ? \"&\" : \"?\";\n\t\tif (queryString.match(regex)) {\n\t\t\treturn queryString.replace(regex, \"$1\" + key + \"=\" + value + \"$2\");\n\t\t} else {\n\t\t\treturn queryString + separator + key + \"=\" + value;\n\t\t}\n\t}\n\n\tfunction detectMobile(useragent) {\n\t\tif (useragent.match(/^(?=.*Android)(?=.*Mobile).*/)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (useragent.match(/.*iphone.*/i)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n})(window);\n"],"mappings":"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"}