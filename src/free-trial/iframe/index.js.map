{"version":3,"file":"index.js","names":["$","MktoForms2","handleHashChange","window","location","hash","split","forEach","pkg","solution","solutions","prop","trigger","val","packages","ai","syn","vm","tp","cm","was","waf","pc","pci","sca","saq","ioc","fim","smb","sme","enterprise","consultant","government","on","document","ready","whenRendered","jQuery","form","$accountInput","$row","accountVal","$accountRadioList","$form","$panel1","$panel2","$theRest","length","getFormElem","unwrap","find","closest","prevAll","addBack","nextAll","wrapAll","addClass","replaceWith","get","cloneNode","removeClass","whenReady","$accountRow","$submitButton","after","validate","getValues","qualysAccount","setValues","$accountInputWrapper","parents","showErrorMessage","before","onSubmit","fancybox","toolbar","smallBtn","btnTpl","iframe","preload"],"sources":["../../../site/pages/free-trial/iframe/index.js"],"sourcesContent":["/* global jQuery MktoForms2 */\n\n/*\n * Get hash tag and check product checkbox\n */\n(function ($, MktoForms2) {\n\n\t\"use strict\";\n\n\tvar solutions = {\n\t\t\"ai\": \"Asset Inventory\",\n\t\t\"syn\": \"CMDB Sync\",\n\t\t\"vm\": \"Vulnerability Management\",\n\t\t\"tp\": \"Threat Protection\",\n\t\t\"cm\": \"Continuous Monitoring\",\n\t\t\"was\": \"Web Application Scanning\",\n\t\t\"waf\": \"Web Application Firewall\",\n\t\t\"pc\": \"Policy Compliance\",\n\t\t\"pci\": \"PCI Compliance\",\n\t\t\"sca\": \"Security Configuration Assessment\",\n\t\t\"saq\": \"Security Assessment Questionnaire\",\n\t\t\"ioc\": \"Indication of Compromise\",\n\t\t\"fim\": \"File Integrity Monitoring\"\n\t};\n\n\tvar packages = {\n\t\t\"smb\": \"Express Lite\",\n\t\t\"sme\": \"Express\",\n\t\t\"enterprise\": \"Enterprise\",\n\t\t\"consultant\": \"Consultant\",\n\t\t\"government\": \"Federal Government\"\n\t};\n\n\tfunction handleHashChange () {\n\n\t\tif (window.location.hash) {\n\n\t\t\t// loop over multiple hash entries\n\t\t\twindow.location.hash.split(\"/\").forEach(function (hash) {\n\n\t\t\t\tvar pkg, solution;\n\n\t\t\t\t// update solutions interested\n\t\t\t\tsolution = solutions[hash];\n\t\t\t\tif (solution) {\n\n\t\t\t\t\t$(\"[value=\\\"\" + solution + \"\\\"]\").prop(\"checked\", true);\n\t\t\t\t\t$(\"[value=\\\"\" + solution + \"\\\"]\").trigger(\"change\");\n\t\t\t\t\t$(\"input[name=solutionsInterestedOther]\").val(solution);\n\n\t\t\t\t}\n\n\t\t\t\t// update trial package\n\t\t\t\tpkg = packages[hash];\n\t\t\t\tif (pkg) {\n\n\t\t\t\t\t$(\"[value=\\\"\" + pkg + \"\\\"]\").prop(\"checked\", true);\n\t\t\t\t\t$(\"[value=\\\"\" + pkg + \"\\\"]\").trigger(\"change\");\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\t}\n\n\t$(window).on(\"hashchange\", handleHashChange);\n\t$(document).ready(handleHashChange);\n\t$(document).on(\"click\", \".mktoButtonNext\", handleHashChange);\n\tMktoForms2.whenRendered(handleHashChange);\n\n}(jQuery, MktoForms2));\n\n/*\n * two-panel Marketo form based on the Qualys account question\n */\n(function ($, MktoForms2) {\n\n\t\"use strict\";\n\n\tMktoForms2.whenRendered(function (form) {\n\n\t\tvar $accountInput, $row, accountVal, $accountRadioList, $accountRow, $form, msg, elem, $panel1, $panel2, $theRest;\n\n\t\t$accountInput = $(\"input[name=qualysAccount]\");\n\t\tif ($accountInput.length > 0) {\n\n\t\t\t$form = form.getFormElem();\n\n\t\t\t// always unwrap to remove panel1 and panel2 divs so we can re do it\n\t\t\t$(\".q-mktoFormSet > *\").unwrap();\n\n\t\t\t// split form elements into two sets to create two panels\n\t\t\t// split on the qualysAccount field\n\t\t\tif ($form.find(\".mktoButtonNext\").length > 0) {\n\t\t\t\t$row = $form.find(\".mktoButtonNext\").closest(\".mktoButtonRow\");\n\t\t\t} else {\n\t\t\t\t$row = $form.find(\"input[name=qualysAccount]\").closest(\".mktoFormRow\");\n\t\t\t}\n\t\t\t$panel1 = $row.prevAll().addBack();\n\t\t\t$panel2 = $row.nextAll();\n\t\t\t$panel1.wrapAll(\"<div class='q-mktoFormSet panel1'/>\");\n\t\t\t$panel2.wrapAll(\"<div class='q-mktoFormSet panel2'/>\");\n\n\t\t\t// show first panel\n\t\t\t$form.addClass(\"show-first-panel\");\n\n\t\t\t// get radio list\n\t\t\t$accountRadioList = $accountInput.closest(\".mktoRadioList\");\n\n\t\t\t// replace qualysAccount field with clone to remove all event listeners\n\t\t\t$accountRadioList.replaceWith($accountRadioList.get(0).cloneNode(true));\n\n\t\t\t// hide the qualys account field and all the field before it\n\t\t\t// if it, and all the field before it, are valid\n\t\t\taccountVal = $(\"input[name=qualysAccount]:checked\").val();\n\t\t\tif (accountVal) {\n\n\t\t\t\t// the qualys account field is valid, now check the rest\n\t\t\t\t$theRest = $(\"input[name=qualysAccount]\")\n\t\t\t\t\t.closest(\".mktoFormRow\").prevAll()\n\t\t\t\t\t.find(\"input[type!=hidden]:not(.mktoValid)\");\n\t\t\t\tif ($theRest.length === 0) {\n\n\t\t\t\t\t$form.removeClass(\"show-first-panel\");\n\t\t\t\t\t$form.addClass(\"show-next-panel\");\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t});\n\n\tMktoForms2.whenReady(function (form) {\n\n\t\tvar $form, $accountInput, $accountRow, $submitButton;\n\n\t\t// save for later\n\t\t$form = form.getFormElem();\n\n\t\t// check for the qualys account input\n\t\t$accountInput = $form.find(\"input[name=qualysAccount]\");\n\t\tif ($accountInput.length > 0) {\n\n\t\t\t// inject next button after the qualys account input\n\t\t\t$accountRow = $accountInput.closest(\".mktoFormRow\");\n\t\t\t$accountRow.after(\"<div class=\\\"mktoButtonRow\\\"><span class=\\\"mktoButtonWrap mktoInset\\\"><button type=\\\"button\\\" class=\\\"mktoButton mktoButtonNext\\\">Next</button></span></div>\");\n\t\t\t$(\".mktoButtonNext\").on(\"click\", function (event) {\n\n\t\t\t\tvar accountVal, msg, elem, $theRest;\n\n\t\t\t\t// validate visible fields\n\t\t\t\tform.validate();\n\n\t\t\t\t// check account value\n\t\t\t\taccountVal = $(\"input[name=qualysAccount]:checked\").val();\n\t\t\t\tif (accountVal) {\n\n\t\t\t\t\t// check Marketo form value\n\t\t\t\t\tif (form.getValues()[\"qualysAccount\"] === accountVal) {\n\n\t\t\t\t\t\t// hide the qualys account field and all the field before it\n\t\t\t\t\t\t// if it, and all the field before it, are valid\n\t\t\t\t\t\tif (accountVal) {\n\n\t\t\t\t\t\t\t// the qualys account field is valid, now check the rest\n\t\t\t\t\t\t\t$theRest = $(\"input[name=qualysAccount]\")\n\t\t\t\t\t\t\t\t.closest(\".mktoFormRow\").prevAll().find(\"input[type!=hidden]:not(.mktoValid)\");\n\t\t\t\t\t\t\tif ($theRest.length === 0) {\n\n\t\t\t\t\t\t\t\t$form.removeClass(\"show-first-panel\");\n\t\t\t\t\t\t\t\t$form.addClass(\"show-next-panel\");\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// set the value via the API which causes the form to render\n\t\t\t\t\t\tform.setValues({ \"qualysAccount\": accountVal });\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t// show error message for Qualys Account field\n\t\t\t\t\tvar $accountInputWrapper = $accountInput.parents(\".mktoFieldWrap\");\n\t\t\t\t\tform.showErrorMessage(\"This field is required.\", $accountInputWrapper);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t// inject back button next to the submit button\n\t\t\t$submitButton = $form.find(\"button[type=submit]\");\n\t\t\t$submitButton.before(\"<button type=\\\"button\\\" class=\\\"mktoButton mktoButtonBack\\\">Back</button>\");\n\t\t\t$(\".mktoButtonBack\").on(\"click\", function (event) {\n\n\t\t\t\t$form.addClass(\"show-first-panel\");\n\t\t\t\t$form.removeClass(\"show-next-panel\");\n\n\t\t\t});\n\n\t\t}\n\n\t\tform.onSubmit(function (form) {\n\n\t\t\tvar $form, $theRest;\n\n\t\t\t$form = form.getFormElem();\n\n\t\t\t// show panel1 if there are any invalid fields there\n\t\t\t$theRest = $(\"input[name=qualysAccount]\").closest(\".mktoFormRow\")\n\t\t\t\t.prevAll().find(\"input[type!=hidden]:not(.mktoValid)\");\n\t\t\tif ($theRest.length > 0) {\n\n\t\t\t\t$form.addClass(\"show-first-panel\");\n\t\t\t\t$form.removeClass(\"show-next-panel\");\n\n\t\t\t}\n\n\t\t});\n\n\t});\n\n}(jQuery, MktoForms2));\n\n/*\n * Enable fancybox overlay popup\n */\n(function ($) {\n\t\"use strict\";\n\n\t$(\"[data-fancybox]\").fancybox({\n\t\ttoolbar  : false,\n\t\tsmallBtn : true,\n\t\tbtnTpl : {\n\t\t\tsmallBtn   : \"<button data-fancybox-close class=\\\"fancybox-close-small privacy\\\" title=\\\"{{CLOSE}}\\\"></button>\"\n\t\t},\n\t\tiframe : {\n\t\t\tpreload : false\n\t\t}\n\t});\n\n}(jQuery));"],"mappings":"aAAA,+BAEA;AACA;AACA,GAFA,CAuEA;AACA;AACA,GAFA,CA2JA;AACA;AACA,GAjOC,UAAUA,CAAC,CAAEC,CAAU,CAAE,CAEzB,YAAY,CA0BZ,QAAS,CAAAC,CAAgBA,CAAA,CAAI,CAExBC,MAAM,CAACC,QAAQ,CAACC,IAAI,EAGvBF,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,SAAUF,CAAI,CAAE,CAEvD,GAAI,CAAAG,CAAG,CAAEC,CAAQ,CAEjB;AAUA;AATAA,CAAQ,CAAGC,CAAS,CAACL,CAAI,CAAC,CACtBI,CAAQ,GAEXT,CAAC,CAAC,WAAW,CAAGS,CAAQ,CAAG,KAAK,CAAC,CAACE,IAAI,CAAC,SAAS,GAAM,CAAC,CACvDX,CAAC,CAAC,WAAW,CAAGS,CAAQ,CAAG,KAAK,CAAC,CAACG,OAAO,CAAC,QAAQ,CAAC,CACnDZ,CAAC,CAAC,sCAAsC,CAAC,CAACa,GAAG,CAACJ,CAAQ,CAAC,EAKxDD,CAAG,CAAGM,CAAQ,CAACT,CAAI,CAAC,CAChBG,CAAG,GAENR,CAAC,CAAC,WAAW,CAAGQ,CAAG,CAAG,KAAK,CAAC,CAACG,IAAI,CAAC,SAAS,GAAM,CAAC,CAClDX,CAAC,CAAC,WAAW,CAAGQ,CAAG,CAAG,KAAK,CAAC,CAACI,OAAO,CAAC,QAAQ,CAAC,CAIhD,CAAC,CAGH,CAAC,GAvDG,CAAAF,CAAS,CAAG,CACfK,EAAA,CAAM,iBAAiB,CACvBC,GAAA,CAAO,WAAW,CAClBC,EAAA,CAAM,0BAA0B,CAChCC,EAAA,CAAM,mBAAmB,CACzBC,EAAA,CAAM,uBAAuB,CAC7BC,GAAA,CAAO,0BAA0B,CACjCC,GAAA,CAAO,0BAA0B,CACjCC,EAAA,CAAM,mBAAmB,CACzBC,GAAA,CAAO,gBAAgB,CACvBC,GAAA,CAAO,mCAAmC,CAC1CC,GAAA,CAAO,mCAAmC,CAC1CC,GAAA,CAAO,0BAA0B,CACjCC,GAAA,CAAO,2BACR,CAAC,CAEGb,CAAQ,CAAG,CACdc,GAAA,CAAO,cAAc,CACrBC,GAAA,CAAO,SAAS,CAChBC,UAAA,CAAc,YAAY,CAC1BC,UAAA,CAAc,YAAY,CAC1BC,UAAA,CAAc,oBACf,CAAC,CAmCDhC,CAAC,CAACG,MAAM,CAAC,CAAC8B,EAAE,CAAC,YAAY,CAAE/B,CAAgB,CAAC,CAC5CF,CAAC,CAACkC,QAAQ,CAAC,CAACC,KAAK,CAACjC,CAAgB,CAAC,CACnCF,CAAC,CAACkC,QAAQ,CAAC,CAACD,EAAE,CAAC,OAAO,CAAE,iBAAiB,CAAE/B,CAAgB,CAAC,CAC5DD,CAAU,CAACmC,YAAY,CAAClC,CAAgB,CAEzC,CAAC,EAACmC,MAAM,CAAEpC,UAAU,CAAC,CAKpB,SAAUD,CAAC,CAAEC,CAAU,CAAE,CAEzB,YAAY,CAEZA,CAAU,CAACmC,YAAY,CAAC,SAAUE,CAAI,CAAE,CAEvC,GAAI,CAAAC,CAAa,CAAEC,CAAI,CAAEC,CAAU,CAAEC,CAAiB,CAAeC,CAAK,CAAaC,CAAO,CAAEC,CAAO,CAAEC,CAAQ,CAEjHP,CAAa,CAAGvC,CAAC,CAAC,2BAA2B,CAAC,CACnB,CAAC,CAAxBuC,CAAa,CAACQ,MAAU,GAE3BJ,CAAK,CAAGL,CAAI,CAACU,WAAW,CAAC,CAAC,CAG1BhD,CAAC,CAAC,oBAAoB,CAAC,CAACiD,MAAM,CAAC,CAAC,CAK/BT,CAAI,CADsC,CAAC,CAAxCG,CAAK,CAACO,IAAI,CAAC,iBAAiB,CAAC,CAACH,MAAU,CACpCJ,CAAK,CAACO,IAAI,CAAC,iBAAiB,CAAC,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAEvDR,CAAK,CAACO,IAAI,CAAC,2BAA2B,CAAC,CAACC,OAAO,CAAC,cAAc,CAAC,CAEvEP,CAAO,CAAGJ,CAAI,CAACY,OAAO,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAClCR,CAAO,CAAGL,CAAI,CAACc,OAAO,CAAC,CAAC,CACxBV,CAAO,CAACW,OAAO,CAAC,qCAAqC,CAAC,CACtDV,CAAO,CAACU,OAAO,CAAC,qCAAqC,CAAC,CAGtDZ,CAAK,CAACa,QAAQ,CAAC,kBAAkB,CAAC,CAGlCd,CAAiB,CAAGH,CAAa,CAACY,OAAO,CAAC,gBAAgB,CAAC,CAG3DT,CAAiB,CAACe,WAAW,CAACf,CAAiB,CAACgB,GAAG,CAAC,CAAC,CAAC,CAACC,SAAS,GAAK,CAAC,CAAC,CAIvElB,CAAU,CAAGzC,CAAC,CAAC,mCAAmC,CAAC,CAACa,GAAG,CAAC,CAAC,CACrD4B,CAAU,GAGbK,CAAQ,CAAG9C,CAAC,CAAC,2BAA2B,CAAC,CACvCmD,OAAO,CAAC,cAAc,CAAC,CAACC,OAAO,CAAC,CAAC,CACjCF,IAAI,CAAC,qCAAqC,CAAC,CACrB,CAAC,GAArBJ,CAAQ,CAACC,MAAY,GAExBJ,CAAK,CAACiB,WAAW,CAAC,kBAAkB,CAAC,CACrCjB,CAAK,CAACa,QAAQ,CAAC,iBAAiB,CAAC,GAQrC,CAAC,CAAC,CAEFvD,CAAU,CAAC4D,SAAS,CAAC,SAAUvB,CAAI,CAAE,CAEpC,GAAI,CAAAK,CAAK,CAAEJ,CAAa,CAAEuB,CAAW,CAAEC,CAAa,CAEpD;AAGA;AAFApB,CAAK,CAAGL,CAAI,CAACU,WAAW,CAAC,CAAC,CAG1BT,CAAa,CAAGI,CAAK,CAACO,IAAI,CAAC,2BAA2B,CAAC,CAC5B,CAAC,CAAxBX,CAAa,CAACQ,MAAU,GAG3Be,CAAW,CAAGvB,CAAa,CAACY,OAAO,CAAC,cAAc,CAAC,CACnDW,CAAW,CAACE,KAAK,CAAC,8JAA8J,CAAC,CACjLhE,CAAC,CAAC,iBAAiB,CAAC,CAACiC,EAAE,CAAC,OAAO,CAAE,UAAiB,CAEjD,GAAI,CAAAQ,CAAU,CAAaK,CAAQ,CAEnC;AAKA,GAJAR,CAAI,CAAC2B,QAAQ,CAAC,CAAC,CAGfxB,CAAU,CAAGzC,CAAC,CAAC,mCAAmC,CAAC,CAACa,GAAG,CAAC,CAAC,CACrD4B,CAAU,CAGTH,CAAI,CAAC4B,SAAS,CAAC,CAAC,CAAAC,aAAiB,GAAK1B,CAAU,CAI/CA,CAAU,GAGbK,CAAQ,CAAG9C,CAAC,CAAC,2BAA2B,CAAC,CACvCmD,OAAO,CAAC,cAAc,CAAC,CAACC,OAAO,CAAC,CAAC,CAACF,IAAI,CAAC,qCAAqC,CAAC,CACvD,CAAC,GAArBJ,CAAQ,CAACC,MAAY,GAExBJ,CAAK,CAACiB,WAAW,CAAC,kBAAkB,CAAC,CACrCjB,CAAK,CAACa,QAAQ,CAAC,iBAAiB,CAAC,GASnClB,CAAI,CAAC8B,SAAS,CAAC,CAAED,aAAA,CAAiB1B,CAAW,CAAC,CAAC,KAI1C,CACN;AACA,GAAI,CAAA4B,CAAoB,CAAG9B,CAAa,CAAC+B,OAAO,CAAC,gBAAgB,CAAC,CAClEhC,CAAI,CAACiC,gBAAgB,CAAC,yBAAyB,CAAEF,CAAoB,CACtE,CAED,CAAC,CAAC,CAGFN,CAAa,CAAGpB,CAAK,CAACO,IAAI,CAAC,qBAAqB,CAAC,CACjDa,CAAa,CAACS,MAAM,CAAC,2EAA2E,CAAC,CACjGxE,CAAC,CAAC,iBAAiB,CAAC,CAACiC,EAAE,CAAC,OAAO,CAAE,UAAiB,CAEjDU,CAAK,CAACa,QAAQ,CAAC,kBAAkB,CAAC,CAClCb,CAAK,CAACiB,WAAW,CAAC,iBAAiB,CAEpC,CAAC,CAAC,EAIHtB,CAAI,CAACmC,QAAQ,CAAC,SAAUnC,CAAI,CAAE,CAE7B,GAAI,CAAAK,CAAK,CAAEG,CAAQ,CAInB;AAFAH,CAAK,CAAGL,CAAI,CAACU,WAAW,CAAC,CAAC,CAG1BF,CAAQ,CAAG9C,CAAC,CAAC,2BAA2B,CAAC,CAACmD,OAAO,CAAC,cAAc,CAAC,CAC/DC,OAAO,CAAC,CAAC,CAACF,IAAI,CAAC,qCAAqC,CAAC,CACjC,CAAC,CAAnBJ,CAAQ,CAACC,MAAU,GAEtBJ,CAAK,CAACa,QAAQ,CAAC,kBAAkB,CAAC,CAClCb,CAAK,CAACiB,WAAW,CAAC,iBAAiB,CAAC,CAItC,CAAC,CAEF,CAAC,CAEF,CAAC,CAACvB,MAAM,CAAEpC,UAAU,CAAC,CAKpB,SAAUD,CAAC,CAAE,CACb,YAAY,CAEZA,CAAC,CAAC,iBAAiB,CAAC,CAAC0E,QAAQ,CAAC,CAC7BC,OAAO,GAAS,CAChBC,QAAQ,GAAO,CACfC,MAAM,CAAG,CACRD,QAAQ,CAAK,kGACd,CAAC,CACDE,MAAM,CAAG,CACRC,OAAO,GACR,CACD,CAAC,CAEF,CAAC,CAAC1C,MAAM,CAAC"}