"use strict";document.addEventListener("DOMContentLoaded",function(){fetch("https://hyppimpgupvx2ofcrsn2yxsg2i0dcmgs.lambda-url.us-east-1.on.aws/").then(a=>{if(!a.ok)throw new Error("Failed to fetch API key");return a.json()}).then(a=>{const b=document.querySelector("#searchbox"),c=document.querySelector("#search");if(Coveo.SearchEndpoint.configureCloudV2Endpoint("",a,"https://platform.cloud.coveo.com/rest/search",{queryStringArguments:{searchHub:"CommunitySearch"}}),c)c.addEventListener("newResultDisplayed",hideShowMoreLink),Coveo.init(c,{externalComponents:[b]});else{let a="https://success.qualys.com/support/s/global-search/%40uri",c={Omnibox:{placeholder:"Search"}};location.pathname.match(/^\/vulnerability-detection-pipeline/)&&(a="https://success.qualys.com/support/s/global-search/%40uri",c.Omnibox.placeholder="Search Discussions, Blog Posts, Training, Docs and Support"),location.pathname.match(/^\/documentation/)&&(a="https://success.qualys.com/support/s/global-search/%40uri#t=Docs",c.Omnibox.placeholder="Search documentation"),location.pathname.match(/^\/training/)&&(a="https://success.qualys.com/support/s/global-search/%40uri#t=Training",c.Omnibox.placeholder="Search training"),Coveo.initSearchbox(b,a,c)}}).catch(a=>{console.error(a)})});function hideShowMoreLink(a){const b=a.detail.result,c=a.detail.item,d=b.raw.jivereplycount||b.raw.wpcommentcount||0,e=b.childResults.length;if(1>d-e){const a=c.querySelector(".coveo-folding-footer");a&&a.classList.add("hidden")}}
//# sourceMappingURL=coveo.js.map