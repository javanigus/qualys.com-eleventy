{"version":3,"file":"index.js","names":["$","MktoForms2","document","on","whenRendered","form","updateListOfSessionIds","checkedSessionIds","each","push","val","join","console","log","nextBtn","$submitBtn","last","addClass","detach","buttonsWrapper","wrapAll","append","validate","window","qualys","marketo","basicValidation","removeClass","length","showErrorMessage","prop","setTimeout","jQuery"],"sources":["../../../../site/pages/qsc/register/virtual/index.js"],"sourcesContent":["/* global jQuery MktoForms2 */\n\n(function ($, MktoForms2) {\n\t\"use strict\";\n\n\t$(document).on(\"cleanMarketoHTMLAndCSSComplete\", function () {\n\t\tMktoForms2.whenRendered(function (form) {\n\t\t\t// create form navigation buttons\n\t\t\tvar backBtn = '<a class=\"button mktoBackButtonRow\"><img src=\"https://ik.imagekit.io/qualys/image/icon/left-arrow-gray.svg\" width=\"26\" class=\"arrow\"><span class=\"button-label\">Back</span></a>';\n\n\t\t\tvar nextBtn = '<div class=\"button mktoNextButtonRow\"><span class=\"mktoButtonWrap mktoNative\"><button type=\"button\" class=\"mktoButton\">Next</button></span></div>';\n\n\t\t\tvar checkAllNoneLinks = '<p class=\"check-all-none\"><a class=\"all q-link q-inline-link\">Check all</a> <span class=\"pipe\">|</span> <a class=\"none q-link q-inline-link\">Uncheck all</a></p>';\n\n\t\t\tvar $submitBtn = $(\".mktoButtonRow\").last().addClass(\"button\").detach();\n\n\t\t\tvar buttonsWrapper = '<div class=\"buttons-wrapper\"/>';\n\n\t\t\t// wrap div around fields in panel 1\n\t\t\t$(\".mktoFormRow.FirstName, \\\n\t\t\t\t.mktoFormRow.LastName, \\\n\t\t\t\t.mktoFormRow.Email, \\\n\t\t\t\t.mktoFormRow.Title, \\\n\t\t\t\t.mktoFormRow.Company, \\\n\t\t\t\t.mktoFormRow.Phone, \\\n\t\t\t\t.mktoFormRow.ISC_Member__c, \\\n\t\t\t\t.mktoFormRow.Registration_Type__c, \\\n\t\t\t\t.mktoFormRow.Registration_Type_Other__c, \\\n\t\t\t\t.mktoFormRow.communicationConsent \\\n\t\t\t\").wrapAll(\"<div class='panel info'/>\");\n\n\t\t\t// wrap div around fields in panel 2\n\t\t\t$(\".mktoFormRow.Conference_Sessions__c \\\n\t\t\t\").wrapAll(\"<div class='panel sessions hidden'/>\");\n\n\t\t\t// wrap div around fields in panel 3\n\t\t\t$(\".mktoFormRow.Training_Session__c \\\n\t\t\t\").wrapAll(\"<div class='panel training hidden'/>\");\n\n\t\t\t// add back and next buttons to panels\n\t\t\t$(\".panel.info\").append(nextBtn);\n\t\t\t$(\".panel.sessions\").append(backBtn).append(nextBtn);\n\t\t\t$(\".panel.training\").append(backBtn).append($submitBtn);\n\n\t\t\t// wrap div around buttons\n\t\t\t$(\".panel.info .button\").wrapAll(buttonsWrapper);\n\t\t\t$(\".panel.sessions .button\").wrapAll(buttonsWrapper);\n\t\t\t$(\".panel.training .button\").wrapAll(buttonsWrapper);\n\n\t\t\t// add \"Check all | none\" links\n\t\t\t$(\"#LblConference_Sessions__c, #LblTraining_Session__c\").append(checkAllNoneLinks);\n\n\t\t\t// if user clicks \"Next\" button in panel 1, ...\n\t\t\t$(document).on(\"click\", \".panel.info .mktoNextButtonRow .mktoButton\", function () {\n\t\t\t\t// validate fields and if all valid, ...\n\t\t\t\tif (form.validate() && window.qualys.marketo.basicValidation(form)) {\n\t\t\t\t\t// show panel 2\n\t\t\t\t\t$(\".panel\").addClass(\"hidden\");\n\t\t\t\t\t$(\".panel.sessions\").removeClass(\"hidden\");\n\t\t\t\t\t$(\".step\").removeClass(\"active\");\n\t\t\t\t\t$(\".step2\").addClass(\"active\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// if user clicks \"Back\" button in panel 2, ...\n\t\t\t$(document).on(\"click\", \".panel.sessions .mktoBackButtonRow\", function () {\n\t\t\t\t// show panel 1\n\t\t\t\t$(\".panel\").addClass(\"hidden\");\n\t\t\t\t$(\".panel.info\").removeClass(\"hidden\");\n\t\t\t\t$(\".step\").removeClass(\"active\");\n\t\t\t\t$(\".step1\").addClass(\"active\");\n\t\t\t});\n\n\t\t\t// if user clicks \"Next\" button in panel 2, ...\n\t\t\t$(document).on(\"click\", \".panel.sessions .mktoNextButtonRow .mktoButton\", function () {\n\t\t\t\t// if user doesn't check any checkboxes, ...\n\t\t\t\tif ($(\".panel.sessions [type=checkbox]:checked\").length === 0) {\n\t\t\t\t\t// show validation error\n\t\t\t\t\tform.showErrorMessage(\"Check at least one.\", $(\".mktoFormRow.Conference_Sessions__c .mktoFieldWrap\"));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// show panel 3\n\t\t\t\t\t$(\".panel\").addClass(\"hidden\");\n\t\t\t\t\t$(\".panel.training\").removeClass(\"hidden\");\n\t\t\t\t\t$(\".step\").removeClass(\"active\");\n\t\t\t\t\t$(\".step3\").addClass(\"active\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// form.onSubmit(function (form) {\n\t\t\t// \t// if user doesn't check any checkboxes, ...\n\t\t\t// \tif ($(\".panel.training [type=checkbox]:checked\").length === 0) {\n\t\t\t// \t\t// show validation error\n\t\t\t// \t\tform.showErrorMessage(\"Check at least one.\", $(\".mktoFormRow.Training_Session__c .mktoFieldWrap\"));\n\t\t\t// \t\tform.submitable(false);\n\t\t\t// \t}\n\t\t\t// });\n\n\t\t\t// if user clicks \"Back\" button in panel 3, ...\n\t\t\t$(document).on(\"click\", \".panel.training .mktoBackButtonRow\", function () {\n\t\t\t\t// show panel 2\n\t\t\t\t$(\".panel\").addClass(\"hidden\");\n\t\t\t\t$(\".panel.sessions\").removeClass(\"hidden\");\n\t\t\t\t$(\".step\").removeClass(\"active\");\n\t\t\t\t$(\".step2\").addClass(\"active\");\n\t\t\t});\n\n\t\t\t// if user clicks \"Check all\" link in panel 2, ...\n\t\t\t$(document).on(\"click\", '.panel.sessions .check-all-none .all', function () {\n\t\t\t\t// check all checkboxes\n\t\t\t\t$('.panel.sessions [id^=LblmktoCheckbox_]').addClass(\"checked\");\n\t\t\t\t$('.panel.sessions [id^=mktoCheckbox]').prop('checked', true);\n\t\t\t\tupdateListOfSessionIds();\n\t\t\t});\n\n\t\t\t// if user clicks \"Uncheck all\" link in panel 2, ...\n\t\t\t$(document).on(\"click\", '.panel.sessions .check-all-none .none', function () {\n\t\t\t\t// uncheck all checkboxes\n\t\t\t\t$('.panel.sessions [id^=LblmktoCheckbox_]').removeClass(\"checked\");\n\t\t\t\t$('.panel.sessions [id^=mktoCheckbox]').prop('checked', false);\n\t\t\t\tupdateListOfSessionIds();\n\t\t\t});\n\n\t\t\t// if user clicks \"Check all\" link in panel 3, ...\n\t\t\t$(document).on(\"click\", '.panel.training .check-all-none .all', function () {\n\t\t\t\t// check all checkboxes\n\t\t\t\t$('.panel.training [id^=LblmktoCheckbox_]').addClass(\"checked\");\n\t\t\t\t$('.panel.training [id^=mktoCheckbox]').prop('checked', true);\n\t\t\t\tupdateListOfSessionIds();\n\t\t\t});\n\n\t\t\t// if user clicks \"Uncheck all\" link in panel 3, ...\n\t\t\t$(document).on(\"click\", '.panel.training .check-all-none .none', function () {\n\t\t\t\t// uncheck all checkboxes\n\t\t\t\t$('.panel.training [id^=LblmktoCheckbox_]').removeClass(\"checked\");\n\t\t\t\t$('.panel.training [id^=mktoCheckbox]').prop('checked', false);\n\t\t\t\tupdateListOfSessionIds();\n\t\t\t});\n\n\t\t\tfunction updateListOfSessionIds() {\n\t\t\t\tvar checkedSessionIds = [];\n\t\t\t\t$(\".panel.training [type=checkbox]:checked, .panel.sessions [type=checkbox]:checked\").each(function () {\n\t\t\t\t\tcheckedSessionIds.push('\"' + $(this).val() + '\"');\n\t\t\t\t});\n\t\t\t\tcheckedSessionIds = checkedSessionIds.join(\",\");\n\t\t\t\tconsole.log(checkedSessionIds);\n\t\t\t\t$(\"[name=swapcardSessionsID]\").val(checkedSessionIds);\n\t\t\t}\n\n\t\t\t// when user checks a training or session checkbox, create a comma-delimited list of values\n\t\t\t$(\".panel.training [type=checkbox], \\\n\t\t\t   .panel.sessions [type=checkbox]\").on(\"change\", function () {\n\t\t\t\t   window.setTimeout(updateListOfSessionIds, 0);\n\t\t\t});\n\t\t});\n\t});\n}(jQuery, MktoForms2));\n"],"mappings":"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"}