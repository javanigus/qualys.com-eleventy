{"version":3,"file":"index.js","names":["$","matches","value","location","search","match","decodeURIComponent","replace","hash","encodeURIComponent","document","getElementById","swiftypeSearch","engineKey","renderFunction","document_type","item","title","description","url","resultContainingElement","on","window","scroll","jQuery","hashchange"],"sources":["../../../../site/pages/company/search/swiftype/index.js"],"sourcesContent":["/* global jQuery:false */\n\n(function ($) {\n\n\t\"use strict\";\n\n\tvar matches, value;\n\n\t// check URL query for query\n\tmatches = location.search.match(\"q=(.*?)([&;]|$)\");\n\tif (matches) {\n\n\t\tvalue = decodeURIComponent(matches[1].replace(\"+\", \" \"));\n\t\tlocation.hash = \"#stq=\" + encodeURIComponent(value) + \"&stp=1\";\n\t\tlocation.search = \"\";\n\t\tdocument.getElementById(\"st-search-input\").value = value;\n\n\t}\n\n\t// check URL fragment for query\n\tmatches = location.hash.match(\"stq=(.*?)([&;]|$)\");\n\tif (matches) {\n\n\t\tdocument.getElementById(\"st-search-input\").value =  decodeURIComponent(matches[1]);\n\n\t}\n\n\n\t/*\n\t * helper function\n\t */\n\tfunction customRenderFunction (document_type, item) {\n\n\t\tvar title, description;\n\n\t\t// setup title HTML\n\t\ttitle = \"<a class=\\\"search-result-link\\\" href=\\\"\" + item.url + \"\\\">\" + item.title + \"</a>\";\n\n\t\t// add PDF html as neccessary\n\t\tif (item[\"url\"].match(/\\.pdf$/)) {\n\n\t\t\ttitle = \"<span class=\\\"sb_doct_txt b_float\\\">[PDF]</span> \" + title;\n\n\t\t}\n\n\t\t// add description if truthy\n\t\tif (item.description) {\n\n\t\t\tdescription = \"<p>\" + item.description + \"</p>\";\n\n\t\t} else {\n\n\t\t\tdescription = \"\";\n\n\t\t}\n\n\t\treturn \"\\\n<div class=\\\"b_algo\\\">\\\n\t<div class=\\\"b_title\\\">\\\n\t\t<h2 class=\\\"heading--4\\\">\\\n\t\t\t\" + title + \"\\\n\t\t</h2>\\\n\t</div>\\\n\t<div class=\\\"b_caption\\\">\\\n\t\t<div class=\\\"b_attribution\\\">\\\n\t\t\t<cite>\" + item.url + \"</cite>\\\n\t\t</div>\\\n\t\t\" + description + \"\\\n\t</div>\\\n</div>\\\n\t\t\t\";\n\n\t}\n\n\t$(\"#st-search-input\").swiftypeSearch({\n\t\tengineKey: \"njE8FwcJkGEs-4yey-zU\",\n\t\trenderFunction: customRenderFunction,\n\t\tresultContainingElement: \"#results\"\n\t});\n\n\t// scroll to top when the visitor click the next/previous buttons\n\t$(\"#results\").on(\"click\", \".st-prev, .st-next\", function () {\n\n\t\twindow.scroll(0, 0);\n\n\t});\n\n}(jQuery, jQuery().hashchange, jQuery().swiftypeSearch));\n"],"mappings":"aAAA,yBAEC,UAAUA,CAAC,CAAE,CAEb,YAAY,CAwBZ;AACD;AACA,IAxBC,GAAI,CAAAC,CAAO,CAAEC,CAAK,CAElB;AAWA;AA6DA;AAvEAD,CAAO,CAAGE,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,iBAAiB,CAAC,CAC9CJ,CAAO,GAEVC,CAAK,CAAGI,kBAAkB,CAACL,CAAO,CAAC,CAAC,CAAC,CAACM,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAAC,CACxDJ,QAAQ,CAACK,IAAI,CAAG,OAAO,CAAGC,kBAAkB,CAACP,CAAK,CAAC,CAAG,QAAQ,CAC9DC,QAAQ,CAACC,MAAM,CAAG,EAAE,CACpBM,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAACT,KAAK,CAAGA,CAAK,EAKzDD,CAAO,CAAGE,QAAQ,CAACK,IAAI,CAACH,KAAK,CAAC,mBAAmB,CAAC,CAC9CJ,CAAO,GAEVS,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAACT,KAAK,CAAII,kBAAkB,CAACL,CAAO,CAAC,CAAC,CAAC,CAAC,EAmDnFD,CAAC,CAAC,kBAAkB,CAAC,CAACY,cAAc,CAAC,CACpCC,SAAS,CAAE,sBAAsB,CACjCC,cAAc,CA7Cf,QAAAA,CAA+BC,CAAa,CAAEC,CAAI,CAAE,CAEnD,GAAI,CAAAC,CAAK,CAAEC,CAAW,CAEtB;AAqBA,MApBA,CAAAD,CAAK,CAAG,yCAAyC,CAAGD,CAAI,CAACG,GAAG,CAAG,KAAK,CAAGH,CAAI,CAACC,KAAK,CAAG,MAAM,CAGtFD,CAAI,CAAAG,GAAO,CAACd,KAAK,CAAC,QAAQ,CAAC,GAE9BY,CAAK,CAAG,mDAAmD,CAAGA,CAAK,EAOnEC,CAAW,CAFRF,CAAI,CAACE,WAAW,CAEL,KAAK,CAAGF,CAAI,CAACE,WAAW,CAAG,MAAM,CAIjC,EAAE,CAIV,oFAIL,CAAGD,CAAK,CAAG,2FAKL,CAAGD,CAAI,CAACG,GAAG,CAAG,uBAErB,CAAGD,CAAW,CAAG,sBAKnB,CAIqC,CACpCE,uBAAuB,CAAE,UAC1B,CAAC,CAAC,CAGFpB,CAAC,CAAC,UAAU,CAAC,CAACqB,EAAE,CAAC,OAAO,CAAE,oBAAoB,CAAE,UAAY,CAE3DC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAEnB,CAAC,CAEF,CAAC,EAACC,MAAM,CAAEA,MAAM,CAAC,CAAC,CAACC,UAAU,CAAED,MAAM,CAAC,CAAC,CAACZ,cAAc,CAAC"}