{"version":3,"file":"index.js","names":["encodeHTML","html","replace","match","htmlEscapes","\"&\"","\"<\"","\">\"","'\"'","\"'\"","\"/\"","reqListener","data","size","index","results","page","matches","ol","sb_count","JSON","parse","responseText","_type","document","getElementById","webPages","innerHTML","queryContext","originalQuery","totalEstimatedMatches","offset","parseInt","count","start","end","toLocaleString","join","value","length","createElement","id","setAttribute","appendChild","displayUrl","isPDF","url","name","snippet","createPagination","Error","err","container","nav","h4","ul","li","a","div","pages","cpi","Math","ceil","className","i","href","addEventListener","handlePagination","title","insertBefore","childNodes","event","preventDefault","target","classList","contains","innerText","sendSearchRequest","query","performGoogleSearch","googleSearchURL","window","location","req","querySelector","XMLHttpRequest","endpoint","encodeURIComponent","navigator","language","open","send","handleSubmit","input","element","getAttribute","form","search","first","decodeURIComponent","q"],"sources":["../../../site/pages/company/search/index.js"],"sourcesContent":["(function init() {\n\n\t\"use strict\";\n\n\t/*\n\t * helper functions to escape a string for safe output in HTML\n\t * https://stackoverflow.com/a/7124052/2367550\n\t */\n\tfunction encodeHTML (html) {\n\t\treturn html.replace(/[&<>\"'/]/g, function (match) {\n\t\t\tvar htmlEscapes = {\n\t\t\t\t\"&\": \"&amp;\",\n\t\t\t\t\"<\": \"&lt;\",\n\t\t\t\t\">\": \"&gt;\",\n\t\t\t\t\"\\\"\": \"&quot;\",\n\t\t\t\t\"'\": \"&#39;\",\n\t\t\t\t\"/\": \"&#x2F;\"\n\t\t\t};\n\t\t\treturn htmlEscapes[match];\n\t\t});\n\t}\n\n\tvar count, element, endpoint, offset, query;\n\n\t// get key and config from HTML\n\telement = document.querySelector(\".bing\");\n\tif (element) {\n\t\tcount = parseInt(element.getAttribute(\"data-bing-custom-search-results-per-page\"), 10) || 10;\n\t}\n\tendpoint = \"https://wj6ny6uen5.execute-api.us-east-1.amazonaws.com/bing-custom-search\";\n\toffset = 0;\n\n\t// use XMLHttpRequest\n\tfunction reqListener () {\n\n\t\tvar data, size, index, results, page, matches, ol, sb_count;\n\n\t\ttry {\n\n\t\t\tdata = JSON.parse(this.responseText);\n\t\t\tif (data && data[\"_type\"] === \"SearchResponse\") {\n\n\t\t\t\tresults = document.getElementById(\"results\");\n\t\t\t\tif (!data.webPages) {\n\n\t\t\t\t\t// no results\n\t\t\t\t\tresults.innerHTML = \"<ol id=\\\"b_results\\\" role=\\\"main\\\" \\\n\t\t\t\t\taria-label=\\\"Search Results\\\"><li class=\\\"b_no\\\" \\\n\t\t\t\t\tdata-bm=\\\"4\\\"><h1>There are no results for \\\n\t\t\t\t\t<strong>\" + encodeHTML(data.queryContext.originalQuery) + \"</strong> \\\n\t\t\t\t\t</h1><ul><li><span>Check your spelling or try different \\\n\t\t\t\t\tkeywords</span> </li></ul></li></ol>\";\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\t// add the number of results\n\t\t\t\tmatches = data.webPages.totalEstimatedMatches || 0;\n\t\t\t\tif (matches > 1000) {\n\n\t\t\t\t\t// Bing seems to return some ludicrous result counts\n\t\t\t\t\t// and, at the same time, seems to top out at 1000 results\n\t\t\t\t\t// so, lets generate more reasonable number\n\t\t\t\t\tmatches = matches % 1000 + 1000;\n\n\t\t\t\t}\n\t\t\t\tif (offset > 0) {\n\t\t\t\t\toffset = parseInt(offset, 10);\n\t\t\t\t\tcount = parseInt(count, 10);\n\t\t\t\t\tvar start = offset + 1;\n\t\t\t\t\tvar end = offset + count;\n\t\t\t\t\tif (end > matches) {\n\t\t\t\t\t\tend = matches;\n\t\t\t\t\t}\n\t\t\t\t\tif (start > matches) {\n\t\t\t\t\t\tstart = 1 + end - count;\n\t\t\t\t\t}\n\t\t\t\t\tsb_count = [\n\t\t\t\t\t\tstart.toLocaleString() + \"–\",\n\t\t\t\t\t\tend.toLocaleString(),\n\t\t\t\t\t\t\" of \" + matches.toLocaleString()\n\t\t\t\t\t].join(\"\");\n\t\t\t\t} else {\n\t\t\t\t\tsb_count = matches.toLocaleString();\n\t\t\t\t}\n\t\t\t\tresults.innerHTML = \"<div id=\\\"b_tween\\\">\\\n\t\t\t\t<span class=\\\"sb_count\\\" data-bm=\\\"4\\\">\" + sb_count + \" \\\n\t\t\t\tresults</span></div>\";\n\n\t\t\t\t// loop over results and display\n\t\t\t\tsize = data.webPages.value.length || 0;\n\t\t\t\tif (size > 0) {\n\n\t\t\t\t\tol = document.createElement(\"ol\");\n\t\t\t\t\tol.id = \"b_results\";\n\t\t\t\t\tol.setAttribute(\"role\", \"main\");\n\t\t\t\t\tol.setAttribute(\"aria-label\", \"Search Results\");\n\t\t\t\t\tresults.appendChild(ol);\n\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < size; index += 1) {\n\n\t\t\t\t\tpage = data.webPages.value[index];\n\n\t\t\t\t\t// check for PDFs\n\t\t\t\t\tif (page.displayUrl.match(/\\.pdf$/)) {\n\t\t\t\t\t\tpage.isPDF = true;\n\t\t\t\t\t}\n\t\t\t\t\tol.innerHTML += \"<li class=\\\"b_algo\\\" data-bm=\\\"7\\\">\\\n\t\t\t\t\t<div class=\\\"b_title\\\">\\\n\t\t\t\t\t\" + (page.isPDF ? \"<span class=\\\"sb_doct_txt b_float\\\">[PDF]</span>\" : \"\") + \"\\\n\t\t\t\t\t<h2 class=\\\"heading--4\\\">\\\n\t\t\t\t\t<a class=\\\"q-link\\\" href=\\\"\" + page.url + \"\\\">\\\n\t\t\t\t\t\" + page.name + \"\\\n\t\t\t\t\t</a></h2></div><div class=\\\"b_caption\\\">\\\n\t\t\t\t\t<div class=\\\"b_attribution\\\"><cite>\\\n\t\t\t\t\t\" + page.displayUrl + \"\\\n\t\t\t\t\t</cite></div><p>\\\n\t\t\t\t\t\" + encodeHTML(page.snippet) + \"\\\n\t\t\t\t\t</p></div></li>\";\n\n\t\t\t\t}\n\n\t\t\t\t// attach pagination UI elements\n\t\t\t\tif (matches > count) {\n\n\t\t\t\t\tol.appendChild(createPagination(matches));\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error(\"Unexpected response: \" + this.responseText);\n\n\t\t\t}\n\n\t\t} catch (err) {\n\n\t\t\tthrow err;\n\n\t\t}\n\n\t}\n\n\tfunction createPagination (matches) {\n\n\t\tvar container, nav, h4, ul, li, a, div, pages, cpi, start, end;\n\n\t\t// calculate how many pages of results there are\n\t\tpages = Math.ceil(matches / count);\n\n\t\t// setup container\n\t\tcontainer = document.createElement(\"li\");\n\t\tcontainer.className = \"b_pag\";\n\t\tcontainer.setAttribute(\"data-bm\", 17);\n\n\t\t// setup nav and heading\n\t\tnav = document.createElement(\"nav\");\n\t\tnav.setAttribute(\"role\", \"navigation\");\n\t\tcontainer.appendChild(nav);\n\t\th4 = document.createElement(\"h4\");\n\t\th4.innerHTML = \"Pagination\";\n\t\th4.className = \"b_hide\";\n\t\tnav.appendChild(h4);\n\n\t\t// setup unordered list of pages avaiable\n\t\tul = document.createElement(\"ul\");\n\t\tul.className = \"sb_pagF\";\n\t\tul.setAttribute(\"aria-label\", \"More pages with results\");\n\t\tnav.appendChild(ul);\n\n\t\t// calculate current page index and the start and end pages\n\t\tcpi = (offset / count) + 1;\n\t\tstart = cpi - 2;\n\t\tif (start < 1) {\n\t\t\tstart = 1;\n\t\t}\n\t\tend = start + 4;\n\n\t\t// generate up to 5 page links based on total estimated matches\n\t\tfor (var i = start; i <= end; i += 1) {\n\n\t\t\tif (i <= pages) {\n\n\t\t\t\tli = document.createElement(\"li\");\n\t\t\t\ta = document.createElement(\"a\");\n\t\t\t\ta.innerHTML = i;\n\t\t\t\tif (i === cpi) {\n\n\t\t\t\t\ta.className = \"sb_pagS\";\n\n\t\t\t\t} else {\n\n\t\t\t\t\ta.setAttribute(\"aria-label\", \"Page \" + i);\n\t\t\t\t\ta.href = \"#page-\" + i;\n\t\t\t\t\ta.addEventListener(\"click\", handlePagination);\n\n\t\t\t\t}\n\t\t\t\tul.appendChild(li.appendChild(a));\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate prev/next links\n\t\tif (start > 1) {\n\n\t\t\tli = document.createElement(\"li\");\n\t\t\ta = document.createElement(\"a\");\n\t\t\ta.className = \"sb_pagP\";\n\t\t\ta.title = \"Previous page\";\n\t\t\ta.href = \"#prev\";\n\t\t\ta.addEventListener(\"click\", handlePagination);\n\t\t\tdiv = document.createElement(\"div\");\n\t\t\tdiv.className = \"sw_prev\";\n\t\t\tdiv.innerHTML = \"◄\";\n\t\t\ta.appendChild(div);\n\t\t\tli.appendChild(a);\n\t\t\tul.insertBefore(li, ul.childNodes[0]);\n\n\t\t}\n\t\tif (end < pages) {\n\n\t\t\tli = document.createElement(\"li\");\n\t\t\ta = document.createElement(\"a\");\n\t\t\ta.className = \"sb_pagN\";\n\t\t\ta.title = \"Next page\";\n\t\t\ta.href = \"#next\";\n\t\t\ta.addEventListener(\"click\", handlePagination);\n\t\t\tdiv = document.createElement(\"div\");\n\t\t\tdiv.className = \"sw_next\";\n\t\t\tdiv.innerHTML = \"►\";\n\t\t\ta.appendChild(div);\n\t\t\tli.appendChild(a);\n\t\t\tul.appendChild(li);\n\n\t\t}\n\n\t\treturn container;\n\n\t}\n\n\t// handle pageination\n\tfunction handlePagination (event) {\n\n\t\tvar index;\n\n\t\tevent.preventDefault();\n\t\tif (event.target.classList.contains(\"sw_prev\")) {\n\n\t\t\t// previous page\n\t\t\tindex = offset / count;\n\n\t\t} else if (event.target.classList.contains(\"sw_next\")) {\n\n\t\t\t// next page\n\t\t\tindex = (offset / count) + 2;\n\n\t\t} else {\n\n\t\t\t// page with index\n\t\t\tindex = parseInt(event.target.innerText, 10);\n\n\t\t}\n\t\toffset = count * (index - 1);\n\t\tsendSearchRequest(query, offset);\n\n\t}\n\n\tfunction performGoogleSearch(query) {\n\t\tquery = query.replace(/\\s+/g, '+');\n\t\tvar googleSearchURL = 'https://www.google.com/search?q=site%3Aqualys.com+' + query;\n\t\twindow.location.href = googleSearchURL;\n\t}\n\n\tfunction sendSearchRequest (query, offset) {\n\n\t\tvar req, results, url;\n\n\t\t// clear old results, if any\n\t\tresults = document.getElementById(\"results\");\n\t\tif (results) {\n\n\t\t\tresults.innerHTML = \"\";\n\n\t\t}\n\n\t\tquery = query || document.querySelector(\"input[name=query]\").value;\n\t\toffset = offset || 0;\n\t\treq = new XMLHttpRequest();\n\t\treq.addEventListener(\"load\", reqListener);\n\t\turl = [\n\t\t\tendpoint,\n\t\t\t\"?query=\" + encodeURIComponent(query),\n\t\t\t\"&mkt=\" + (navigator.language || \"en-US\"),\n\t\t\t\"&count=\" + encodeURIComponent(count),\n\t\t\t\"&offset=\" + encodeURIComponent(offset)\n\t\t].join(\"\");\n\t\t//console.log(\"GET \" + url);\n\t\treq.open(\"GET\", url);\n\t\treq.send();\n\n\t}\n\n\tfunction handleSubmit (event) {\n\n\t\tvar input;\n\n\t\tevent.preventDefault();\n\n\t\t// get query string from input value\n\t\tinput = event.target.querySelector(\"input[name=query]\");\n\t\tif (input) {\n\n\t\t\tquery = input.value;\n\t\t\toffset = 0;\n\n\t\t}\n\n\t\t// make request for new results\n\t\t// commented out as the bing search isn't working\n\t\t// sendSearchRequest(query, offset);\n\t\tperformGoogleSearch(query);\n\n\t}\n\n\t// bind the form action to trigger the XMLHttpRequest\n\tvar form = document.querySelector(\"#search_form\");\n\tif (form) {\n\n\t\tform.addEventListener(\"submit\", handleSubmit);\n\n\t}\n\n\t// look for a offset varialb ein the URL\n\tvar match = location.search.match(/first=([0-9]+)([&;#]|$)/);\n\tif (match) {\n\n\t\tvar first = parseInt(decodeURIComponent(match[1]), 10);\n\t\tif (first) {\n\n\t\t\toffset = first - 1;\n\n\t\t}\n\n\t}\n\n\t// look for a query variable in the URL\n\tmatch = location.search.match(/q=(.*?)([&;#]|$)/);\n\tif (match) {\n\n\t\tvar q = decodeURIComponent(match[1]).replace(/\\+/g, \" \");\n\t\tif (q) {\n\n\t\t\t// update input value\n\t\t\tvar input = document.querySelector(\"input[name=query]\");\n\t\t\tif (input) {\n\n\t\t\t\tinput.value = q;\n\n\t\t\t}\n\n\t\t\t// search for query\n\t\t\tsendSearchRequest(q, offset);\n\n\t\t}\n\n\t}\n\n}());\n"],"mappings":"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"}