{"version":3,"file":"events.js","names":["$","height2minHeight","scroller","css","height","\"min-height\"","attr","handleRender","event","$element","body","linkText","t","d","dateLine","div","speakerName","speakerUrl","push","start","format","allDay","tbd","end","diff","subtract","eventName","eventUrl","boothNumber","venue","location","country","timeZone","classDescription","length","slice","replace","description","abstract","document","createElement","innerHTML","marked","innerText","trim","join","title","url","source","className","lt","Tooltip","get","placement","html","setOptions","gfm","tables","breaks","smartypants","ready","addClass","publicEvents","color","webcasts","training","speakingEngagements","eventSources","urlParams","window","qualys","parseQueryString","search","type","fullCalendar","header","left","center","right","defaultView","fixedWeekCount","eventAfterAllRender","windowResize","eventRender","jQuery"],"sources":["../../../site/pages/company/events/events.js"],"sourcesContent":["/* global jQuery:false marked:false Tooltip:false */\n\n/*\n * initialize Fullcalendar\n */\n(function ($) {\n\n\t\"use strict\";\n\n\t/*\n\t * requires marked\n\t */\n\tmarked.setOptions({\n\t\t\"gfm\": true,\n\t\t\"tables\": true,\n\t\t\"breaks\": true,\n\t\t\"smartypants\": true\n\t});\n\n\n\t/*\n\t * helper function to change height on calendar to min height\n\t */\n\tfunction height2minHeight () {\n\n\t\t// change height on calendar to min height\n\t\tvar scroller = $(\".fc-scroller\");\n\t\t//var height = scroller.css(\"height\");\n\t\tscroller.css({\n\t\t\t\"height\": \"auto\",\n\t\t\t\"min-height\": \"auto\"\n\t\t});\n\n\t\t// open all links in a new tab / window\n\t\t$(\".fc-view-container a\").attr(\"target\", \"_blank\");\n\n\t}\n\n\n\t/*\n\t * helper function for when the device width changes\n\t */\n\t/*function handleMediaQueryChange (mql) {\n\n\t\tif (mql.matches) {\n\n\t\t\t// greater than or equal to 694 pixels wide\n\t\t\t$(\"#calendar\").fullCalendar(\"changeView\", \"month\");\n\n\t\t} else {\n\n\t\t\t// less than 694 pixels wide\n\t\t\t$(\"#calendar\").fullCalendar(\"changeView\", \"listMonth\");\n\n\t\t}\n\n\t}\n\n\t// switch to list view on narrow displays\n\tvar mediaQueryList = window.matchMedia(\"(min-width: 694px)\");\n\tmediaQueryList.addListener(handleMediaQueryChange);/*\n\n\n\t/*\n\t * build and attach the Tooltip to each event when it is rendered\n\t */\n\tvar tooltipTemplate = \"\\\n<h4 class=\\\"tooltip__heading\\\">\\\n\t{{title}}\\\n</h4>\\\n<div class=\\\"tooltip__body\\\">\\\n\t{{body}}\\\n</div>\\\n\";\n\tfunction handleRender (event, $element) {\n\n\t\tvar body, linkText, t, d, dateLine, div;\n\n\t\t// build the Tooltip title\n\t\tbody = [];\n\n\t\t// add the byline\n\t\tif (event.speakerName) {\n\t\t\tif (event.speakerUrl) {\n\t\t\t\tbody.push(\"By <a href=\\\"\" + event.speakerUrl + \"\\\">\" + event.speakerName + \"</a>\");\n\t\t\t} else {\n\t\t\t\tbody.push(\"By \" + event.speakerName);\n\t\t\t}\n\t\t}\n\n\t\t// add the dates\n\t\tdateLine = event.start.format(\"ll\");\n\t\tif (!event.allDay && !event.tbd) {\n\t\t\tdateLine += \" <span class=\\\"nowrap\\\">\" + event.start.format(\"LT\");\n\t\t}\n\t\tif (event.end && event.end.diff(event.start) >= 24 * 60 * 60 * 1000) {\n\n\t\t\t// show the end date for multi-day events\n\t\t\tdateLine += \"</span> – \" + event.end.subtract(1, \"day\").format(\"ll\");\n\n\t\t} else {\n\n\t\t\t// show the event duration when known an the event is not all day and it is not TBD\n\t\t\tif (event.end && !event.allDay && !event.tbd) {\n\n\t\t\t\tdateLine += \" – \" + event.end.format(\"LT\") + \"</span>\";\n\n\t\t\t}\n\n\t\t\tdateLine += \"</span>\";\n\n\t\t}\n\t\tbody.push(dateLine);\n\n\t\t// add the metadata\n\t\tif (event.eventName) {\n\t\t\tbody.push(\"\"); // empty line\n\t\t\tif (event.eventUrl) {\n\t\t\t\tbody.push(\"<a href=\\\"\" + event.eventUrl + \"\\\">\" + event.eventName + \"</a>\");\n\t\t\t} else {\n\t\t\t\tbody.push(event.eventName);\n\t\t\t}\n\t\t}\n\t\tif (event.boothNumber) {\n\t\t\tbody.push(\"Booth #\" + event.boothNumber);\n\t\t}\n\t\tif (event.venue) {\n\t\t\tbody.push(event.venue);\n\t\t}\n\t\tif (event.location) {\n\t\t\tbody.push(event.location);\n\t\t}\n\t\tif (event.country) {\n\t\t\tbody.push(event.country);\n\t\t}\n\t\tif (event.timeZone && !event.location) {\n\t\t\tbody.push(event.timeZone);\n\t\t}\n\t\tif (event.classDescription) {\n\t\t\td = event.classDescription;\n\t\t\tif (d.length > 140) {\n\t\t\t\td = d.slice(0, 140);\n\t\t\t\td = d.replace(/\\s+$/, \"\");\n\t\t\t\td += \"…\";\n\t\t\t}\n\t\t\tbody.push(\"\"); // empty line\n\t\t\tbody.push(d);\n\t\t}\n\t\tif (event.description) {\n\t\t\td = event.description;\n\t\t\td = d.replace(/\\s+/g, \" \");\n\t\t\tif (d.length > 140) {\n\t\t\t\td = d.slice(0, 140);\n\t\t\t\td = d.replace(/\\s+$/, \"\");\n\t\t\t\td += \"…\";\n\t\t\t}\n\t\t\tbody.push(\"\"); // empty line\n\t\t\tbody.push(d);\n\t\t}\n\t\tif (event.abstract) {\n\n\t\t\t// convert abstract from Markdown to HTML\n\t\t\tdiv = document.createElement(\"div\");\n\t\t\tdiv.innerHTML = marked(event.abstract);\n\n\t\t\t// get plain text from HTML element\n\t\t\td = div.innerText.trim();\n\t\t\tif (d.length > 140) {\n\n\t\t\t\t// trim to 140 characters\n\t\t\t\td = d.slice(0, 140);\n\t\t\t\td = d.replace(/\\s+$/, \"\");\n\t\t\t\td += \"…\";\n\n\t\t\t}\n\t\t\tbody.push(\"\"); // empty line\n\t\t\tbody.push(d);\n\n\t\t}\n\t\tbody = body.join(\"<br>\");\n\n\t\t// fill-in the template\n\t\tt = tooltipTemplate;\n\t\tt = t.replace(/{{title}}/g, event.title);\n\t\tt = t.replace(\"{{body}}\", body);\n\n\t\t// append the link\n\t\tif (event.url) {\n\n\t\t\t// change link text based on which calendar the event belongs too\n\t\t\tswitch (event.source.className[0]) {\n\t\t\tcase \"qualys-public-events\":\n\t\t\t\tlinkText = \"Website\";\n\t\t\t\tbreak;\n\t\t\tcase \"qualys-webcast-events\":\n\t\t\t\tlinkText = \"Watch\";\n\t\t\t\tbreak;\n\t\t\tcase \"qualys-training-events\":\n\t\t\t\tlinkText = \"Sign up\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlinkText = \"Learn more\";\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar lt = \"<a class=\\\"q-link\\\" href=\\\"{{link}}\\\" title=\\\"{{title}}\\\" target=\\\"_blank\\\">{{linkText}}</a>\";\n\t\t\tlt = lt.replace(/{{title}}/g, event.title);\n\t\t\tlt = lt.replace(\"{{link}}\", event.url);\n\t\t\tlt = lt.replace(\"{{linkText}}\", linkText);\n\t\t\tt += lt;\n\n\t\t}\n\n\t\tnew Tooltip($element.get(0), {\n\t\t\tplacement: \"top\",\n\t\t\thtml: true,\n\t\t\ttitle: t\n\t\t});\n\n\t}\n\n\t$(document).ready(function () {\n\n\t\t// hide the static list of events\n\t\t$(\"#listOfEvents\").addClass(\"hidden\");\n\n\t\tvar publicEvents = {\n\t\t\tclassName: \"qualys-public-events\",\n\t\t\turl: \"/company/events/fullcalendar.json\",\n\t\t\tcolor: \"#9bc0e0\"\n\t\t};\n\n\t\tvar webcasts = {\n\t\t\tclassName: \"qualys-webcast-events\",\n\t\t\turl: \"/company/events/webcasts.json\",\n\t\t\tcolor: \"#707f93\"\n\t\t};\n\n\t\tvar training = {\n\t\t\tclassName: \"qualys-training-events\",\n\t\t\turl: \"https://aqueous-sierra.herokuapp.com/api/v1/classes/fullcalendar\",\n\t\t\tcolor: \"#1d2737\"\n\t\t};\n\n\t\tvar speakingEngagements = {\n\t\t\tclassName: \"qualys-speaking-engagements\",\n\t\t\turl: \"/company/events/speaking-engagements.json\",\n\t\t\tcolor: \"#6CA3CF\"\n\t\t};\n\n\t\tvar eventSources = [];\n\t\tvar urlParams = window.qualys.parseQueryString(window.location.search);\n\t\tvar type = urlParams.type;\n\n\t\tswitch(type) {\n\t\t\tcase \"publicEvents\":\n\t\t\t\teventSources.push(publicEvents);\n\t\t\t\tbreak;\n\t\t\tcase \"webcasts\":\n\t\t\t\teventSources.push(webcasts);\n\t\t\t\tbreak;\n\t\t\tcase \"training\":\n\t\t\t\teventSources.push(training);\n\t\t\t\tbreak;\n\t\t\tcase \"speakingEngagements\":\n\t\t\t\teventSources.push(speakingEngagements);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\teventSources.push(publicEvents);\n\t\t\t\teventSources.push(webcasts);\n\t\t\t\teventSources.push(training);\n\t\t\t\teventSources.push(speakingEngagements);\n\t\t}\n\n\t\t// page is now ready, initialize the calendar...\n\t\t$(\"#calendar\").fullCalendar({\n\t\t\t// put your options and callbacks here\n\t\t\teventSources: eventSources,\n\t\t\theader: {\n\t\t\t\tleft: \"prev,next today\",\n\t\t\t\tcenter: \"title\",\n\t\t\t\tright: \"agendaWeek,month,listMonth\"\n\t\t\t},\n\t\t\tdefaultView: \"listMonth\",\n\t\t\tfixedWeekCount: false,\n\t\t\teventAfterAllRender: height2minHeight,\n\t\t\twindowResize: height2minHeight,\n\t\t\teventRender: handleRender\n\t\t});\n\n\t});\n\n}(jQuery));\n"],"mappings":"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"}