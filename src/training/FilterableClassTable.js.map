{"version":3,"file":"FilterableClassTable.js","names":["require","React","moment","FilterableClassTable","Component","constructor","props","state","filterCourse","data","handleFilterChange","bind","filter","setState","course","render","courses","classes","map","c","title","sort","Array","from","Set","createElement","className","FilterBar","onFilterChange","ClassTable","handleChange","select","selectElement","options","selectedIndex","value","optionNodes","key","onChange","ref","rows","filteredClasses","ClassRow","id","length","startDate","displayDate","start","tz","timeZone","format","CourseInfo","ClassInfo","location","description","ClassSignUpButton","inPerson","url","collapsed","handleClick","dlClassName","onClick","classType","classTypeClassName","href","target","rel","module","exports"],"sources":["../../site/pages/training/FilterableClassTable.jsx"],"sourcesContent":["if (typeof require !== \"undefined\") {\n\tvar React = require(\"react\");\n\tvar moment = require(\"moment-timezone\");\n}\n\n/*\n * Upcoming Training Classes\n * Static version from Mockup\n */\nclass FilterableClassTable extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { filterCourse: \"\", data: [] };\n\t\tthis.handleFilterChange = this.handleFilterChange.bind(this);\n\t}\n\thandleFilterChange(filter) {\n\t\tthis.setState({ filterCourse: filter.course});\n\t}\n\trender() {\n\t\tvar courses;\n\n\t\tcourses = this.props.classes.map(function (c) {\n\t\t\treturn c.course.title;\n\t\t}).sort();\n\n\t\tcourses = Array.from(new Set(courses));\n\n\t\treturn (\n\t\t\t<div className=\"filterableClassTable\">\n\t\t\t\t<FilterBar\n\t\t\t\t\tcourses={courses}\n\t\t\t\t\tfilterCourse={this.state.filterCourse}\n\t\t\t\t\tonFilterChange={this.handleFilterChange}/>\n\t\t\t\t<ClassTable classes={this.props.classes} filterCourse={this.state.filterCourse} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass FilterBar extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\thandleChange() {\n\t\tvar select = this.selectElement;\n\t\tthis.props.onFilterChange({\n\t\t\tcourse: select.options[select.selectedIndex].value\n\t\t});\n\t}\n\trender() {\n\t\tvar optionNodes = this.props.courses.map(function (course) {\n\t\t\treturn (\n\t\t\t\t<option key={course} value={course}>{course}</option>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<form className=\"filterBar\">\n\t\t\t\t<div>\n\t\t\t\t\t<label>Filter by Course</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tref={(select) => { this.selectElement = select; }}>\n\t\t\t\t\t\t<option value=\"\">All Courses</option>\n\t\t\t\t\t\t{optionNodes}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nclass ClassTable extends React.Component {\n\trender() {\n\t\tvar rows, filterCourse, filteredClasses;\n\n\t\tfilterCourse = this.props.filterCourse;\n\n\t\tif (filterCourse !== \"\") {\n\t\t\tfilteredClasses = this.props.classes.filter(c => filterCourse === c.course.title);\n\t\t} else {\n\t\t\tfilteredClasses = this.props.classes;\n\t\t}\n\n\t\trows = filteredClasses.map(function (c) {\n\t\t\treturn (\n\t\t\t\t<ClassRow data={c} key={c.id} />\n\t\t\t);\n\t\t});\n\n\t\tif (rows.length < 1) {\n\t\t\trows = [(\n\t\t\t\t<div key=\"93247040-6d73-4a0a-a735-67a547797a80\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSorry, there are no open, public classes at this time. More will be scheduled. Please check back later.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t)];\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"table-wrapper\">\n\t\t\t\t<div className=\"table-row table-header\">\n\t\t\t\t\t<div className=\"table-column date\">Date</div>\n\t\t\t\t\t<div className=\"table-column name\">Class</div>\n\t\t\t\t\t<div className=\"table-column location\">Location</div>\n\t\t\t\t\t<div className=\"table-column action\"></div>\n\t\t\t\t</div>\n\t\t\t\t{rows}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass ClassRow extends React.Component {\n\trender() {\n\t\tvar startDate, displayDate;\n\n\t\tstartDate = moment(this.props.data.start);\n\t\tdisplayDate = startDate.tz(this.props.data.timeZone).format(\"MMM D\");\n\n\t\treturn (\n\t\t\t<div className=\"table-row\">\n\t\t\t\t<div className=\"table-column date\">\n\t\t\t\t\t<span>{displayDate}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"table-column name\">\n\t\t\t\t\t<CourseInfo course={this.props.data.course} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"table-column location qc-widget-geolearning-upcoming-classes-location\">\n\t\t\t\t\t<ClassInfo\n\t\t\t\t\t\tlocation={this.props.data.location}\n\t\t\t\t\t\tdescription={this.props.data.description} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"table-column action\">\n\t\t\t\t\t<ClassSignUpButton\n\t\t\t\t\t\tinPerson={this.props.data.inPerson}\n\t\t\t\t\t\turl={this.props.data.url} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass CourseInfo extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { collapsed: true };\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick() {\n\t\tthis.setState({ collapsed: !this.state.collapsed });\n\t}\n\trender() {\n\t\tvar dlClassName;\n\n\t\tdlClassName = \"courseInfo\";\n\n\t\tif (this.state.collapsed) {\n\t\t\tdlClassName += \" collapsed\";\n\t\t} else {\n\t\t\tdlClassName += \" expanded\";\n\t\t}\n\n\t\treturn (\n\t\t\t<dl className={dlClassName} onClick={this.handleClick}>\n\t\t\t\t<dt>\n\t\t\t\t\t{this.props.course.title}\n\t\t\t\t</dt>\n\t\t\t\t<dd>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{this.props.course.description}\n\t\t\t\t\t</p>\n\t\t\t\t</dd>\n\t\t\t</dl>\n\t\t);\n\t}\n}\n\nclass ClassInfo extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { collapsed: true };\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick() {\n\t\tthis.setState({ collapsed: !this.state.collapsed });\n\t}\n\trender() {\n\t\tvar dlClassName;\n\n\t\tdlClassName = \"classInfo\";\n\n\t\tif (this.state.collapsed) {\n\t\t\tdlClassName += \" collapsed\";\n\t\t} else {\n\t\t\tdlClassName += \" expanded\";\n\t\t}\n\n\t\treturn (\n\t\t\t<dl className={dlClassName} onClick={this.handleClick}>\n\t\t\t\t<dt>\n\t\t\t\t\t{this.props.location}\n\t\t\t\t</dt>\n\t\t\t\t<dd>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{this.props.description}\n\t\t\t\t\t</p>\n\t\t\t\t</dd>\n\t\t\t</dl>\n\t\t);\n\t}\n}\n\nclass ClassSignUpButton extends React.Component {\n\trender() {\n\t\tvar classType, classTypeClassName;\n\n\t\tif (this.props.inPerson) {\n\t\t\tclassType = \"In-Person\";\n\t\t\tclassTypeClassName = \"classSignUpButton classSignUpButtonInPerson\";\n\t\t} else {\n\t\t\tclassType = \"Online\";\n\t\t\tclassTypeClassName = \"classSignUpButton classSignUpButtonOnline\";\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classTypeClassName}>\n\t\t\t\t<a href={this.props.url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\tSign Up</a>\n\t\t\t\t<span>{classType}</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nif (typeof module !== \"undefined\") {\n\tmodule.exports = FilterableClassTable;\n}\n"],"mappings":"aAAA,GAAuB,WAAW,EAA9B,MAAO,CAAAA,OAAuB,IAC7B,CAAAC,KAAK,CAAGD,OAAO,CAAC,OAAO,CAAC,CACxBE,MAAM,CAAGF,OAAO,CAAC,iBAAiB,CAAC,CAGxC;AACA;AACA;AACA,GACA,KAAM,CAAAG,oBAAoB,QAAS,CAAAF,KAAK,CAACG,SAAU,CAClDC,WAAWA,CAACC,CAAK,CAAE,CAClB,KAAK,CAACA,CAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CAAEC,YAAY,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAC3C,IAAI,CAACC,kBAAkB,CAAG,IAAI,CAACA,kBAAkB,CAACC,IAAI,CAAC,IAAI,CAC5D,CACAD,kBAAkBA,CAACE,CAAM,CAAE,CAC1B,IAAI,CAACC,QAAQ,CAAC,CAAEL,YAAY,CAAEI,CAAM,CAACE,MAAM,CAAC,CAC7C,CACAC,MAAMA,CAAA,CAAG,CACR,GAAI,CAAAC,CAAO,CAQX,MANA,CAAAA,CAAO,CAAG,IAAI,CAACV,KAAK,CAACW,OAAO,CAACC,GAAG,CAAC,SAAUC,CAAC,CAAE,CAC7C,MAAO,CAAAA,CAAC,CAACL,MAAM,CAACM,KACjB,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAETL,CAAO,CAAGM,KAAK,CAACC,IAAI,CAAC,GAAI,CAAAC,GAAG,CAACR,CAAO,CAAC,CAAC,cAGrCf,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,sBAAsB,eACpCzB,KAAA,CAAAwB,aAAA,CAACE,SAAS,EACTX,OAAO,CAAEA,CAAQ,CACjBR,YAAY,CAAE,IAAI,CAACD,KAAK,CAACC,YAAa,CACtCoB,cAAc,CAAE,IAAI,CAAClB,kBAAmB,CAAC,CAAC,cAC3CT,KAAA,CAAAwB,aAAA,CAACI,UAAU,EAACZ,OAAO,CAAE,IAAI,CAACX,KAAK,CAACW,OAAQ,CAACT,YAAY,CAAE,IAAI,CAACD,KAAK,CAACC,YAAa,CAAE,CAC7E,CAEP,CACD,CAEA,KAAM,CAAAmB,SAAS,QAAS,CAAA1B,KAAK,CAACG,SAAU,CACvCC,WAAWA,CAACC,CAAK,CAAE,CAClB,KAAK,CAACA,CAAK,CAAC,CACZ,IAAI,CAACwB,YAAY,CAAG,IAAI,CAACA,YAAY,CAACnB,IAAI,CAAC,IAAI,CAChD,CACAmB,YAAYA,CAAA,CAAG,CACd,GAAI,CAAAC,CAAM,CAAG,IAAI,CAACC,aAAa,CAC/B,IAAI,CAAC1B,KAAK,CAACsB,cAAc,CAAC,CACzBd,MAAM,CAAEiB,CAAM,CAACE,OAAO,CAACF,CAAM,CAACG,aAAa,CAAC,CAACC,KAC9C,CAAC,CACF,CACApB,MAAMA,CAAA,CAAG,CACR,GAAI,CAAAqB,CAAW,CAAG,IAAI,CAAC9B,KAAK,CAACU,OAAO,CAACE,GAAG,CAAC,SAAUJ,CAAM,CAAE,CAC1D,mBACCb,KAAA,CAAAwB,aAAA,WAAQY,GAAG,CAAEvB,CAAO,CAACqB,KAAK,CAAErB,CAAO,EAAEA,CAAe,CAEtD,CAAC,CAAC,CACF,mBACCb,KAAA,CAAAwB,aAAA,SAAMC,SAAS,CAAC,WAAW,eAC1BzB,KAAA,CAAAwB,aAAA,yBACCxB,KAAA,CAAAwB,aAAA,cAAO,kBAAuB,CAAC,cAC/BxB,KAAA,CAAAwB,aAAA,WACCa,QAAQ,CAAE,IAAI,CAACR,YAAa,CAC5BS,GAAG,CAAGR,CAAM,EAAK,CAAE,IAAI,CAACC,aAAa,CAAGD,CAAQ,CAAE,eAClD9B,KAAA,CAAAwB,aAAA,WAAQU,KAAK,CAAC,EAAE,EAAC,aAAmB,CAAC,CACpCC,CACM,CACJ,CACA,CAER,CACD,CAEA,KAAM,CAAAP,UAAU,QAAS,CAAA5B,KAAK,CAACG,SAAU,CACxCW,MAAMA,CAAA,CAAG,CACR,GAAI,CAAAyB,CAAI,CAAEhC,CAAY,CAAEiC,CAAe,CA0BvC,MAxBA,CAAAjC,CAAY,CAAG,IAAI,CAACF,KAAK,CAACE,YAAY,CAKrCiC,CAAe,CAHK,EAAE,GAAnBjC,CAAmB,CAGJ,IAAI,CAACF,KAAK,CAACW,OAAO,CAFlB,IAAI,CAACX,KAAK,CAACW,OAAO,CAACL,MAAM,CAACO,CAAC,EAAIX,CAAY,GAAKW,CAAC,CAACL,MAAM,CAACM,KAAK,CAAC,CAKlFoB,CAAI,CAAGC,CAAe,CAACvB,GAAG,CAAC,SAAUC,CAAC,CAAE,CACvC,mBACClB,KAAA,CAAAwB,aAAA,CAACiB,QAAQ,EAACjC,IAAI,CAAEU,CAAE,CAACkB,GAAG,CAAElB,CAAC,CAACwB,EAAG,CAAE,CAEjC,CAAC,CAAC,CAEgB,CAAC,CAAfH,CAAI,CAACI,MAAU,GAClBJ,CAAI,CAAG,cACNvC,KAAA,CAAAwB,aAAA,QAAKY,GAAG,CAAC,sCAAsC,eAC9CpC,KAAA,CAAAwB,aAAA,UAAG,yGAEA,CACC,CAAC,CACL,eAIFxB,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,eAAe,eAC7BzB,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,wBAAwB,eACtCzB,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,mBAAmB,EAAC,MAAS,CAAC,cAC7CzB,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,mBAAmB,EAAC,OAAU,CAAC,cAC9CzB,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,uBAAuB,EAAC,UAAa,CAAC,cACrDzB,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,qBAAqB,CAAM,CACtC,CAAC,CACLc,CACG,CAEP,CACD,CAEA,KAAM,CAAAE,QAAQ,QAAS,CAAAzC,KAAK,CAACG,SAAU,CACtCW,MAAMA,CAAA,CAAG,CACR,GAAI,CAAA8B,CAAS,CAAEC,CAAW,CAK1B,MAHA,CAAAD,CAAS,CAAG3C,MAAM,CAAC,IAAI,CAACI,KAAK,CAACG,IAAI,CAACsC,KAAK,CAAC,CACzCD,CAAW,CAAGD,CAAS,CAACG,EAAE,CAAC,IAAI,CAAC1C,KAAK,CAACG,IAAI,CAACwC,QAAQ,CAAC,CAACC,MAAM,CAAC,OAAO,CAAC,cAGnEjD,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,WAAW,eACzBzB,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,mBAAmB,eACjCzB,KAAA,CAAAwB,aAAA,aAAOqB,CAAkB,CACrB,CAAC,cACN7C,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,mBAAmB,eACjCzB,KAAA,CAAAwB,aAAA,CAAC0B,UAAU,EAACrC,MAAM,CAAE,IAAI,CAACR,KAAK,CAACG,IAAI,CAACK,MAAO,CAAE,CACzC,CAAC,cACNb,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,uEAAuE,eACrFzB,KAAA,CAAAwB,aAAA,CAAC2B,SAAS,EACTC,QAAQ,CAAE,IAAI,CAAC/C,KAAK,CAACG,IAAI,CAAC4C,QAAS,CACnCC,WAAW,CAAE,IAAI,CAAChD,KAAK,CAACG,IAAI,CAAC6C,WAAY,CAAE,CACxC,CAAC,cACNrD,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAC,qBAAqB,eACnCzB,KAAA,CAAAwB,aAAA,CAAC8B,iBAAiB,EACjBC,QAAQ,CAAE,IAAI,CAAClD,KAAK,CAACG,IAAI,CAAC+C,QAAS,CACnCC,GAAG,CAAE,IAAI,CAACnD,KAAK,CAACG,IAAI,CAACgD,GAAI,CAAE,CACxB,CACD,CAEP,CACD,CAEA,KAAM,CAAAN,UAAU,QAAS,CAAAlD,KAAK,CAACG,SAAU,CACxCC,WAAWA,CAACC,CAAK,CAAE,CAClB,KAAK,CAACA,CAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CAAEmD,SAAS,GAAO,CAAC,CAChC,IAAI,CAACC,WAAW,CAAG,IAAI,CAACA,WAAW,CAAChD,IAAI,CAAC,IAAI,CAC9C,CACAgD,WAAWA,CAAA,CAAG,CACb,IAAI,CAAC9C,QAAQ,CAAC,CAAE6C,SAAS,CAAE,CAAC,IAAI,CAACnD,KAAK,CAACmD,SAAU,CAAC,CACnD,CACA3C,MAAMA,CAAA,CAAG,CACR,GAAI,CAAA6C,CAAW,CAUf,MARA,CAAAA,CAAW,CAAG,YAAY,CAGzBA,CAAW,EADR,IAAI,CAACrD,KAAK,CAACmD,SAAS,CACR,YAAY,CAEZ,WAAW,cAI1BzD,KAAA,CAAAwB,aAAA,OAAIC,SAAS,CAAEkC,CAAY,CAACC,OAAO,CAAE,IAAI,CAACF,WAAY,eACrD1D,KAAA,CAAAwB,aAAA,WACE,IAAI,CAACnB,KAAK,CAACQ,MAAM,CAACM,KAChB,CAAC,cACLnB,KAAA,CAAAwB,aAAA,wBACCxB,KAAA,CAAAwB,aAAA,UACE,IAAI,CAACnB,KAAK,CAACQ,MAAM,CAACwC,WACjB,CACA,CACD,CAEN,CACD,CAEA,KAAM,CAAAF,SAAS,QAAS,CAAAnD,KAAK,CAACG,SAAU,CACvCC,WAAWA,CAACC,CAAK,CAAE,CAClB,KAAK,CAACA,CAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CAAEmD,SAAS,GAAO,CAAC,CAChC,IAAI,CAACC,WAAW,CAAG,IAAI,CAACA,WAAW,CAAChD,IAAI,CAAC,IAAI,CAC9C,CACAgD,WAAWA,CAAA,CAAG,CACb,IAAI,CAAC9C,QAAQ,CAAC,CAAE6C,SAAS,CAAE,CAAC,IAAI,CAACnD,KAAK,CAACmD,SAAU,CAAC,CACnD,CACA3C,MAAMA,CAAA,CAAG,CACR,GAAI,CAAA6C,CAAW,CAUf,MARA,CAAAA,CAAW,CAAG,WAAW,CAGxBA,CAAW,EADR,IAAI,CAACrD,KAAK,CAACmD,SAAS,CACR,YAAY,CAEZ,WAAW,cAI1BzD,KAAA,CAAAwB,aAAA,OAAIC,SAAS,CAAEkC,CAAY,CAACC,OAAO,CAAE,IAAI,CAACF,WAAY,eACrD1D,KAAA,CAAAwB,aAAA,WACE,IAAI,CAACnB,KAAK,CAAC+C,QACT,CAAC,cACLpD,KAAA,CAAAwB,aAAA,wBACCxB,KAAA,CAAAwB,aAAA,UACE,IAAI,CAACnB,KAAK,CAACgD,WACV,CACA,CACD,CAEN,CACD,CAEA,KAAM,CAAAC,iBAAiB,QAAS,CAAAtD,KAAK,CAACG,SAAU,CAC/CW,MAAMA,CAAA,CAAG,CACR,GAAI,CAAA+C,CAAS,CAAEC,CAAkB,CAUjC,MARI,KAAI,CAACzD,KAAK,CAACkD,QAAQ,EACtBM,CAAS,CAAG,WAAW,CACvBC,CAAkB,CAAG,6CAA6C,GAElED,CAAS,CAAG,QAAQ,CACpBC,CAAkB,CAAG,2CAA2C,eAIhE9D,KAAA,CAAAwB,aAAA,QAAKC,SAAS,CAAEqC,CAAmB,eAClC9D,KAAA,CAAAwB,aAAA,MAAGuC,IAAI,CAAE,IAAI,CAAC1D,KAAK,CAACmD,GAAI,CAACQ,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,EAAC,SACxD,CAAC,cACZjE,KAAA,CAAAwB,aAAA,aAAOqC,CAAgB,CACnB,CAEP,CACD,CAEsB,WAAW,EAA7B,MAAO,CAAAK,MAAsB,GAChCA,MAAM,CAACC,OAAO,CAAGjE,oBAAoB"}