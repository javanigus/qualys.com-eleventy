{"version":3,"file":"datasheet-data.js","names":["moment","require","contentful","client","createClient","space","localPath","module","exports","getEntries","content_type","limit","order","then","unWrap","resl","items","filter","value","Object","keys","length","dsheet","item","type","language","topic","includes","process","env","NODE_ENV","entry","updatedAt","isBefore","slice"],"sources":["../../../site/pages/fundamentals/what-is-vulnerability-management-detection-response/datasheet-data.js"],"sourcesContent":["const moment = require(\"moment-timezone\");\nconst contentful = require(\"contentful-sync-cli/contentful-local\");\nconst client = contentful.createClient({\n\tspace: \"4l0w8syj29ap\",\n\tlocalPath: \"site/cache/contentful\"\n});\n\nmodule.exports = client.getEntries({\n\t\"content_type\": \"resource\",\n\t\"limit\": 3,\n\t\"order\": \"-sys.updatedAt\"\n}).then(client.unWrap).then(function (resl) {\n\t// remove empty objects from result set\n\tresl.items = resl.items.filter(value => Object.keys(value).length > 0);\n\n\tlet dsheet;\n\n\t// filter to just dsheet\n\tdsheet = resl.items.filter(item => item.type === \"Datasheet\" && item.language === \"en\" && item.topic.includes(\"Vulnerability Management\"));\n\n\n\n\t// filter out dsheet with future publication dates\n\tif (process.env.NODE_ENV === \"production\") {\n\t\tdsheet = dsheet.filter(entry => {\n\t\t\tif (entry.updatedAt) {\n\t\t\t\treturn moment(entry.updatedAt).isBefore();\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t}\n\n\t\n\t\n\tdsheet = dsheet.slice(0, 1);\n\n\treturn dsheet;\n});\n"],"mappings":"kBAAM,CAAAA,MAAM,CAAGC,OAAO,CAAC,iBAAiB,CAAC,CACnCC,UAAU,CAAGD,OAAO,CAAC,sCAAsC,CAAC,CAC5DE,MAAM,CAAGD,UAAU,CAACE,YAAY,CAAC,CACtCC,KAAK,CAAE,cAAc,CACrBC,SAAS,CAAE,uBACZ,CAAC,CAAC,CAEFC,MAAM,CAACC,OAAO,CAAGL,MAAM,CAACM,UAAU,CAAC,CAClCC,YAAA,CAAgB,UAAU,CAC1BC,KAAA,CAAS,CAAC,CACVC,KAAA,CAAS,gBACV,CAAC,CAAC,CAACC,IAAI,CAACV,MAAM,CAACW,MAAM,CAAC,CAACD,IAAI,CAAC,SAAUE,CAAI,CAAE,CAE3CA,CAAI,CAACC,KAAK,CAAGD,CAAI,CAACC,KAAK,CAACC,MAAM,CAACC,CAAK,EAAgC,CAAC,CAA7BC,MAAM,CAACC,IAAI,CAACF,CAAK,CAAC,CAACG,MAAU,CAAC,CAEtE,GAAI,CAAAC,CAAM,CAEV;AAoBA,MAnBA,CAAAA,CAAM,CAAGP,CAAI,CAACC,KAAK,CAACC,MAAM,CAACM,CAAI,EAAkB,WAAW,GAAzBA,CAAI,CAACC,IAAoB,EAAsB,IAAI,GAAtBD,CAAI,CAACE,QAAiB,EAAIF,CAAI,CAACG,KAAK,CAACC,QAAQ,CAAC,0BAA0B,CAAC,CAAC,CAK7G,YAAY,GAArCC,OAAO,CAACC,GAAG,CAACC,QAAyB,GACxCR,CAAM,CAAGA,CAAM,CAACL,MAAM,CAACc,CAAK,GACvBA,CAAK,CAACC,SAAS,EACXhC,MAAM,CAAC+B,CAAK,CAACC,SAAS,CAAC,CAACC,QAAQ,CAAC,CAIzC,CAAC,EAKHX,CAAM,CAAGA,CAAM,CAACY,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAEpBZ,CACR,CAAC,CAAC"}