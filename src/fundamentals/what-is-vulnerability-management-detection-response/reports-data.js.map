{"version":3,"file":"reports-data.js","names":["moment","require","contentful","client","createClient","space","localPath","module","exports","getEntries","content_type","order","then","unWrap","res","items","filter","value","Object","keys","length","analystreport","item","type","topic","includes","process","env","NODE_ENV","entry","publicationDate","isBefore","slice"],"sources":["../../../site/pages/fundamentals/what-is-vulnerability-management-detection-response/reports-data.js"],"sourcesContent":["const moment = require(\"moment-timezone\");\nconst contentful = require(\"contentful-sync-cli/contentful-local\");\nconst client = contentful.createClient({\n\tspace: \"4l0w8syj29ap\",\n\tlocalPath: \"site/cache/contentful\"\n});\n\nmodule.exports = client.getEntries({\n\t\"content_type\": \"resource\",\n\t\"order\": \"-fields.publicationDate, -fields.type, -fields.name\"\n}).then(client.unWrap).then(function (res) {\n\t// remove empty objects from result set\n\tres.items = res.items.filter(value => Object.keys(value).length > 0);\n\n\tlet analystreport;\n\n\t// filter to just analystreport\n\tanalystreport = res.items.filter(item => item.type === \"Analyst Report\" && item.topic.includes(\"Vulnerability Management\"));\n\n\n\n\t// filter out analystreport with future publication dates\n\tif (process.env.NODE_ENV === \"production\") {\n\t\tanalystreport = analystreport.filter(entry => {\n\t\t\tif (entry.publicationDate) {\n\t\t\t\treturn moment(entry.publicationDate).isBefore();\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t}\n\n\n\n\tanalystreport = analystreport.slice(0, 1);\n\n\t\n\treturn analystreport;\n});"],"mappings":"kBAAM,CAAAA,MAAM,CAAGC,OAAO,CAAC,iBAAiB,CAAC,CACnCC,UAAU,CAAGD,OAAO,CAAC,sCAAsC,CAAC,CAC5DE,MAAM,CAAGD,UAAU,CAACE,YAAY,CAAC,CACtCC,KAAK,CAAE,cAAc,CACrBC,SAAS,CAAE,uBACZ,CAAC,CAAC,CAEFC,MAAM,CAACC,OAAO,CAAGL,MAAM,CAACM,UAAU,CAAC,CAClCC,YAAA,CAAgB,UAAU,CAC1BC,KAAA,CAAS,qDACV,CAAC,CAAC,CAACC,IAAI,CAACT,MAAM,CAACU,MAAM,CAAC,CAACD,IAAI,CAAC,SAAUE,CAAG,CAAE,CAE1CA,CAAG,CAACC,KAAK,CAAGD,CAAG,CAACC,KAAK,CAACC,MAAM,CAACC,CAAK,EAAgC,CAAC,CAA7BC,MAAM,CAACC,IAAI,CAACF,CAAK,CAAC,CAACG,MAAU,CAAC,CAEpE,GAAI,CAAAC,CAAa,CAEjB;AAqBA,MApBA,CAAAA,CAAa,CAAGP,CAAG,CAACC,KAAK,CAACC,MAAM,CAACM,CAAI,EAAkB,gBAAgB,GAA9BA,CAAI,CAACC,IAAyB,EAAID,CAAI,CAACE,KAAK,CAACC,QAAQ,CAAC,0BAA0B,CAAC,CAAC,CAK9F,YAAY,GAArCC,OAAO,CAACC,GAAG,CAACC,QAAyB,GACxCP,CAAa,CAAGA,CAAa,CAACL,MAAM,CAACa,CAAK,GACrCA,CAAK,CAACC,eAAe,EACjB9B,MAAM,CAAC6B,CAAK,CAACC,eAAe,CAAC,CAACC,QAAQ,CAAC,CAI/C,CAAC,EAKHV,CAAa,CAAGA,CAAa,CAACW,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAGlCX,CACR,CAAC,CAAC"}