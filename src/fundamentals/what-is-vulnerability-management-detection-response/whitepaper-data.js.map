{"version":3,"file":"whitepaper-data.js","names":["moment","require","contentful","client","createClient","space","localPath","module","exports","getEntries","content_type","\"fields.type\"","order","then","unWrap","resultspaper","items","filter","value","Object","keys","length","whitepaper","item","type","topic","includes","process","env","NODE_ENV","entry","publicationDate","isBefore","slice"],"sources":["../../../site/pages/fundamentals/what-is-vulnerability-management-detection-response/whitepaper-data.js"],"sourcesContent":["const moment = require(\"moment-timezone\");\nconst contentful = require(\"contentful-sync-cli/contentful-local\");\nconst client = contentful.createClient({\n\tspace: \"4l0w8syj29ap\",\n\tlocalPath: \"site/cache/contentful\"\n});\n\nmodule.exports = client.getEntries({\n    \"content_type\": \"resource\",\n    \"fields.type\": \"Whitepaper\",\n\t\"order\": \"-fields.publicationDate, -fields.type, -fields.name\"\n}).then(client.unWrap).then(function (resultspaper) {\n\t// remove empty objects from result set\n\tresultspaper.items = resultspaper.items.filter(value => Object.keys(value).length > 0);\n\t\n\tlet whitepaper;\n\n\t// filter to just whitepaper\n\twhitepaper = resultspaper.items.filter(item => item.type === \"Whitepaper\" && item.topic.includes(\"Vulnerability Management\"));\n    \n\n         \n\t// filter out whitepaper with future publication dates\n\tif (process.env.NODE_ENV === \"production\") {\n\t\twhitepaper = whitepaper.filter(entry => {\n\t\t\tif (entry.publicationDate) {\n\t\t\t\treturn moment(entry.publicationDate).isBefore();\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t}\n\n   \n\twhitepaper = whitepaper.slice(0, 1);\n\n\treturn whitepaper;\n});"],"mappings":"kBAAM,CAAAA,MAAM,CAAGC,OAAO,CAAC,iBAAiB,CAAC,CACnCC,UAAU,CAAGD,OAAO,CAAC,sCAAsC,CAAC,CAC5DE,MAAM,CAAGD,UAAU,CAACE,YAAY,CAAC,CACtCC,KAAK,CAAE,cAAc,CACrBC,SAAS,CAAE,uBACZ,CAAC,CAAC,CAEFC,MAAM,CAACC,OAAO,CAAGL,MAAM,CAACM,UAAU,CAAC,CAC/BC,YAAA,CAAgB,UAAU,CAC1BC,aAAA,CAAe,YAAY,CAC9BC,KAAA,CAAS,qDACV,CAAC,CAAC,CAACC,IAAI,CAACV,MAAM,CAACW,MAAM,CAAC,CAACD,IAAI,CAAC,SAAUE,CAAY,CAAE,CAEnDA,CAAY,CAACC,KAAK,CAAGD,CAAY,CAACC,KAAK,CAACC,MAAM,CAACC,CAAK,EAAgC,CAAC,CAA7BC,MAAM,CAACC,IAAI,CAACF,CAAK,CAAC,CAACG,MAAU,CAAC,CAEtF,GAAI,CAAAC,CAAU,CAEd;AAmBA,MAlBA,CAAAA,CAAU,CAAGP,CAAY,CAACC,KAAK,CAACC,MAAM,CAACM,CAAI,EAAkB,YAAY,GAA1BA,CAAI,CAACC,IAAqB,EAAID,CAAI,CAACE,KAAK,CAACC,QAAQ,CAAC,0BAA0B,CAAC,CAAC,CAKhG,YAAY,GAArCC,OAAO,CAACC,GAAG,CAACC,QAAyB,GACxCP,CAAU,CAAGA,CAAU,CAACL,MAAM,CAACa,CAAK,GAC/BA,CAAK,CAACC,eAAe,EACjB/B,MAAM,CAAC8B,CAAK,CAACC,eAAe,CAAC,CAACC,QAAQ,CAAC,CAI/C,CAAC,EAIHV,CAAU,CAAGA,CAAU,CAACW,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAE5BX,CACR,CAAC,CAAC"}